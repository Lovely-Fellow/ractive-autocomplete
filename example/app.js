!function t(e,n,i){function r(o,a){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t){var e=t("ractive"),n=t("../index.js"),i=[{name:"test",id:1},{name:"test2",id:2},{name:"test3",id:3},{name:"test33",id:4},{name:"best",id:5}];window.onload=function(){e.components.autocomplete=n;{var t=250;new e({el:document.querySelector("#container"),template:document.querySelector("#template").innerHTML,data:function(){return{selection:{name:"test",id:1},suggest:function(e,n){setTimeout(function(){n(null,i.filter(function(t){return 0==t.name.indexOf(e)}))},t)}}}})}}},{"../index.js":2,ractive:4}],2:[function(t,e){e.exports=t("./lib/autocomplete.js")},{"./lib/autocomplete.js":3}],3:[function(t,e){var n=t("ractive"),i=13,r=27,s=38,o=40,a='<div class="ractive-autocomplete"><input value="{{_state.text}}" on-blur="blur" on-click="show" on-keypress="keydown" {{#if placeholder}}placeholder="{{placeholder}}"{{/if}}>{{#if _state.visible}}<ul on-click="click">{{#_state.suggestions:i}}<li {{#if _state.isSelected(.)}}class="selected"{{/if}}>{{_state.getText(.)}}</li>{{/_state.suggestions}}</ul>{{/if}}</div>',u=function(t){return function(e){if(void 0===e)return"";var n=this.get(t);switch(typeof n){case"string":return e[n];case"function":return n(e);default:return e}}};e.exports=n.extend({template:a,lazy:!1,isolated:!0,data:function(){return{text:"",value:null,placeholder:"",displayMember:null,valueMember:null,suggest:null,autoselect:!1,delay:200,_state:{text:"",value:null,suggestions:null,visible:!1,isSelected:this.isSelected.bind(this),getText:this.getText.bind(this),getValue:this.getValue.bind(this)}}},isSelected:function(t){return this.getState("text")==this.getText(t)&&this.getState("value")==this.getValue(t)},getText:u("displayMember"),getValue:u("valueMember"),getSelectedIndex:function(){for(var t=this.getState("suggestions")||[],e=0;e<t.length;e++)if(this.isSelected(t[e]))return e;return-1},getState:function(t){return this.get("_state."+t)},setState:function(t,e){this.set("_state."+t,e)},oninit:function(){},onrender:function(){this.on("click",function(t){for(var e=this.find("ul"),n=0;n<e.children.length;n++)if(e.children[n]==t.original.target)return void this.select(n)}),this.on("keydown",function(t){var e=t.original.keyCode;if(e==i)t.original.preventDefault(),this.show(!1),this.select(this.getSelectedIndex());else if(e==r)t.original.preventDefault(),this.cancel();else if(e==s||e==o){t.original.preventDefault();var n=this.getSelectedIndex();if(!this.getState("visible"))return this.loadSuggestions(),void this.show(!0);-1==n&&this.preview(0),e==s&&n>0&&this.preview(n-1),e==o&&n<this.getState("suggestions").length-1&&this.preview(n+1)}else this.loadSuggestions()}),this.on("blur",function(){this.blurTimer&&clearTimeout(this.blurTimer),this.blurTimer=setTimeout(this.show.bind(this,!1),100)}),this.setState("text",this.get("text")),this.setState("value",this.get("value"))},show:function(t){t=t&&this.getState("suggestions")&&this.getState("suggestions").length>0,this.setState("visible",!!t)},cancel:function(){this.setState("text",this.get("text")),this.setState("value",this.get("value")),this.show(!1)},select:function(t,e){this.preview(t),this.set("text",this.getState("text")),this.set("value",this.getState("value")),this.show(!!e)},preview:function(t){var e=this.getState("suggestions")||[],n=e[t];if(void 0==n)var i=this.getState("text"),r=null;else var i=this.getText(n),r=this.getValue(n);this.setState("text",i),this.setState("value",r)},loadSuggestions:function(){this.suggestTimer&&clearTimeout(this.suggestTimer);var t=this.suggestTimer=setTimeout(function(){if(t==this.suggestTimer){this.suggestTimer=null;var e=this.get("suggest"),n=this.getState("text");e(n,function(t,e){if(!t&&(this.setState("suggestions",e||[]),this.show(!0),this.get("autoselect")))for(var n=this.getState("text"),i=0;i<e.length;i++)if(n==this.getText(e[i]))return this.select(i,this.find("input")==document.activeElement)}.bind(this))}}.bind(this),this.get("delay")||0)}})},{ractive:4}],4:[function(t,e,n){!function(t,i){"object"==typeof n&&"undefined"!=typeof e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.Ractive=i()}(this,function(){"use strict";function t(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function e(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){return null!=t&&t.toString?t:""}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];for(var r,s;s=n.shift();)for(r in s)Au.call(s,r)&&(t[r]=s[r]);return t}function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function s(t){return"[object Array]"===Cu.call(t)}function o(t){return Tu.test(Cu.call(t))}function a(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)}function h(t){return t&&"[object Object]"===Cu.call(t)}function c(t,e){return t.replace(/%s/g,function(){return e.shift()})}function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];throw t=c(t,n),new Error(t)}function f(){Bw.DEBUG&&Eu.apply(null,arguments)}function d(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=c(t,n),_u(t,n)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=c(t,n),Pu[t]||(Pu[t]=!0,_u(t,n))}function m(){Bw.DEBUG&&d.apply(null,arguments)}function g(){Bw.DEBUG&&p.apply(null,arguments)}function v(t,e,n){var i=y(t,e,n);return i?i[t][n]:null}function y(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function b(t){return function(){return t}}function w(t){var e,n,i,r,s,o;for(e=t.split("."),(n=Mu[e.length])||(n=x(e.length)),s=[],i=function(t,n){return t?"*":e[n]},r=n.length;r--;)o=n[r].map(i).join("."),s.hasOwnProperty(o)||(s.push(o),s[o]=!0);return s}function x(t){var e,n,i,r,s,o,a,u,h="";if(!Mu[t]){for(i=[];h.length<t;)h+=1;for(e=parseInt(h,2),r=function(t){return"1"===t},s=0;e>=s;s+=1){for(n=s.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,o=0;a>o;o++)u.push(r(n[o]));i[s]=u}Mu[t]=i}return Mu[t]}function k(t,e,n,i){var r=t[e];if(!r||!r.equalsOrStartsWith(i)&&r.equalsOrStartsWith(n))return t[e]=r?r.replace(n,i):i,!0}function E(t){var e=t.slice(2);return"i"===t[1]&&u(e)?+e:e}function _(t){return null==t?t:(zu.hasOwnProperty(t)||(zu[t]=new qu(t)),zu[t])}function S(t,e){function n(e,n){var i,r,o;return n.isRoot?o=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(i=t.viewmodel.wrapped[n.str],r=i?i.get():t.viewmodel.get(n),o=r?Object.keys(r):null),o&&o.forEach(function(t){"_ractive"===t&&s(r)||e.push(n.join(t))}),e}var i,r,o;for(i=e.str.split("."),o=[$u];r=i.shift();)"*"===r?o=o.reduce(n,[]):o[0]===$u?o[0]=_(r):o=o.map(A(r));return o}function A(t){return function(e){return e.join(t)}}function C(t){return t?t.replace(Uu,".$1"):""}function T(t,e,n){if("string"!=typeof e||!u(n))throw new Error("Bad arguments");var i=void 0,r=void 0;if(/\*/.test(e))return r={},S(t,_(C(e))).forEach(function(e){var i=t.viewmodel.get(e);if(!u(i))throw new Error(Zu);r[e.str]=i+n}),t.set(r);if(i=t.get(e),!u(i))throw new Error(Zu);return t.set(e,+i+n)}function O(t,e){return Qu(this,t,void 0===e?1:+e)}function P(t){this.event=t,this.method="on"+t,this.deprecate=Ju[t]}function F(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function j(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]==e)return!0;return!1}function R(t,e){var n;if(!s(t)||!s(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function N(t){return"string"==typeof t?[t]:void 0===t?[]:t}function D(t){return t[t.length-1]}function I(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function L(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function V(t){setTimeout(t,0)}function M(t,e){return function(){for(var n;n=t.shift();)n(e)}}function U(t,e,n,i){var r;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof Xu)e.then(n,i);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{r=e.then}catch(t){return void i(t)}if("function"==typeof r){var s,o,a;o=function(e){s||(s=!0,U(t,e,n,i))},a=function(t){s||(s=!0,i(t))};try{r.call(e,o,a)}catch(t){if(!s)return i(t),void(s=!0)}}else n(e)}}function W(t,e,n){var i;return e=C(e),"~/"===e.substr(0,2)?(i=_(e.substring(2)),B(t,i.firstKey,n)):"."===e[0]?(i=z(sh(n),e),i&&B(t,i.firstKey,n)):i=q(t,_(e),n),i}function z(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return _(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),_(n.join("."))}return _(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function q(t,e,n,i){var r,s,o,a,u;if(e.isRoot)return e;for(s=e.firstKey;n;)if(r=n.context,n=n.parent,r&&(a=!0,o=t.viewmodel.get(r),o&&("object"==typeof o||"function"==typeof o)&&s in o))return r.join(e.str);return $(t.viewmodel,s)?e:t.parent&&!t.isolated&&(a=!0,n=t.component.parentFragment,s=_(s),u=q(t.parent,s,n,!0))?(t.viewmodel.map(s,{origin:t.parent.viewmodel,keypath:u}),e):i||a?void 0:(t.viewmodel.set(e,void 0),e)}function B(t,e){var n;!t.parent||t.isolated||$(t.viewmodel,e)||(e=_(e),(n=q(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function $(t,e){return""===e||e in t.data||e in t.computations||e in t.mappings}function Q(t){t.teardown()}function Z(t){t.unbind()}function H(t){t.unrender()}function K(t){t.cancel()}function G(t){t.detach()}function Y(t){t.detachNodes()}function J(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function X(){for(var t,e,n;uh.ractives.length;)e=uh.ractives.pop(),n=e.viewmodel.applyChanges(),n&&fh.fire(e,n);for(te(),t=0;t<uh.views.length;t+=1)uh.views[t].update();for(uh.views.length=0,t=0;t<uh.tasks.length;t+=1)uh.tasks[t]();return uh.tasks.length=0,uh.ractives.length?X():void 0}function te(){var t,e,n,i;for(t=lh.length;t--;)e=lh[t],e.keypath?lh.splice(t,1):(n=oh(e.root,e.ref,e.parentFragment))&&((i||(i=[])).push({item:e,keypath:n}),lh.splice(t,1));i&&i.forEach(ee)}function ee(t){t.item.resolve(t.keypath)}function ne(t,e,n){var i,r,s,o,a,u,h,c,l,f,d,p,m,g;if(i=new rh(function(t){return r=t}),"object"==typeof t){n=e||{},u=n.easing,h=n.duration,a=[],c=n.step,l=n.complete,(c||l)&&(d={},n.step=null,n.complete=null,f=function(t){return function(e,n){d[t]=n}});for(s in t)t.hasOwnProperty(s)&&((c||l)&&(p=f(s),n={easing:u,duration:h},c&&(n.step=p)),n.complete=l?p:Ou,a.push(ie(this,s,t[s],n)));return g={easing:u,duration:h},c&&(g.step=function(t){return c(t,d)}),l&&i.then(function(t){return l(t,d)}),g.complete=r,m=ie(this,null,null,g),a.push(m),i.stop=function(){for(var t;t=a.pop();)t.stop();m&&m.stop()},i}return n=n||{},n.complete&&i.then(n.complete),n.complete=r,o=ie(this,t,e,n),i.stop=function(){return o.stop()},i}function ie(t,e,n,i){var r,s,o,u;return e&&(e=_(C(e))),null!==e&&(u=t.viewmodel.get(e)),gh.abort(e,t),a(u,n)?(i.complete&&i.complete(i.to),wh):(i.easing&&(r="function"==typeof i.easing?i.easing:t.easing[i.easing],"function"!=typeof r&&(r=null)),s=void 0===i.duration?400:i.duration,o=new yh({keypath:e,from:u,to:n,root:t,duration:s,easing:r,interpolator:i.interpolator,step:i.step,complete:i.complete}),gh.add(o),t._animations.push(o),o)}function re(){return this.detached?this.detached:(this.el&&I(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),kh.fire(this),this.detached)}function se(t){return this.el?this.fragment.find(t):null}function oe(t,e){var n;return n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?lu(t.node,this.selector):null,n?(this.push(t.node||t.instance),e||this._makeDirty(),!0):void 0}function ae(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function ue(t){var e,n;for(e=[t],n=ae(t);n;)e.push(n),n=ae(n);return e}function he(t,e,n,i){var r=[];return xu(r,{selector:{value:e},live:{value:n},_isComponentQuery:{value:i},_test:{value:_h}}),n?(xu(r,{cancel:{value:Sh},_root:{value:t},_sort:{value:Th},_makeDirty:{value:Oh},_remove:{value:Ph},_dirty:{value:!1,writable:!0}}),r):r}function ce(t,e){var n,i;return this.el?(e=e||{},n=this._liveQueries,(i=n[t])?e&&e.live?i:i.slice():(i=Fh(this,t,!!e.live,!1),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAll(t,i),i)):[]}function le(t,e){var n,i;return e=e||{},n=this._liveComponentQueries,(i=n[t])?e&&e.live?i:i.slice():(i=Fh(this,t,!!e.live,!0),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAllComponents(t,i),i)}function fe(t){return this.fragment.findComponent(t)}function de(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function pe(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function me(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var i=_(e).wildcardMatches();ge(t,i,n.event,n.args,!0)}}function ge(t,e,n,i){var r,s,o=void 0===arguments[4]?!1:arguments[4],a=!0;for(Vh.enqueue(t,n),s=e.length;s>=0;s--)r=t._subs[e[s]],r&&(a=ve(t,r,n,i)&&a);if(Vh.dequeue(t),t.parent&&a){if(o&&t.component){var u=t.component.name+"."+e[e.length-1];e=_(u).wildcardMatches(),n&&(n.component=t)}ge(t.parent,e,n,i)}}function ve(t,e,n,i){var r=null,s=!1;n&&!n._noArg&&(i=[n].concat(i)),e=e.slice();for(var o=0,a=e.length;a>o;o+=1)e[o].apply(t,i)===!1&&(s=!0);return n&&!n._noArg&&s&&(r=n.original)&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),!s}function ye(t){var e={args:Array.prototype.slice.call(arguments,1)};Mh(this,t,e)}function be(t){var e;return t=_(C(t)),e=this.viewmodel.get(t,zh),void 0===e&&this.parent&&!this.isolated&&oh(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function we(e,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,xe(this)}function xe(t){Bh.fire(t),t.findAllComponents("*").forEach(function(t){xe(t.instance)})}function ke(t,e,n){var i,r;return t=_(C(t)),i=this.viewmodel.get(t),s(i)&&s(e)?(r=dh.start(this,!0),this.viewmodel.merge(t,i,e,n),dh.end(),r):this.set(t,e,n&&n.complete)}function Ee(t,e){var n,i;return n=S(t,e),i={},n.forEach(function(e){i[e.str]=t.get(e.str)}),i}function _e(t,e,n,i){var r,s,o;e=_(C(e)),i=i||sc,e.isPattern?(r=new ic(t,e,n,i),t.viewmodel.patternObservers.push(r),s=!0):r=new Hh(t,e,n,i),r.init(i.init),t.viewmodel.register(e,r,s?"patternObservers":"observers"),r.ready=!0;var a={cancel:function(){var n;o||(s?(n=t.viewmodel.patternObservers.indexOf(r),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,r,"patternObservers")):t.viewmodel.unregister(e,r,"observers"),o=!0)}};return t._observers.push(a),a}function Se(t,e,n){var i,r,s,o;if(h(t)){n=e,r=t,i=[];for(t in r)r.hasOwnProperty(t)&&(e=r[t],i.push(this.observe(t,e,n)));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",rc(this,t,e,n);if(s=t.split(" "),1===s.length)return rc(this,t,e,n);for(i=[],o=s.length;o--;)t=s[o],t&&i.push(rc(this,t,e,n));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}function Ae(t,e,n){var i=this.observe(t,function(){e.apply(this,arguments),i.cancel()},{init:!1,defer:n&&n.defer});return i}function Ce(t,e){var n,i=this;if(t)n=t.split(" ").map(uc).filter(hc),n.forEach(function(t){var n,r;(n=i._subs[t])&&(e?(r=n.indexOf(e),-1!==r&&n.splice(r,1)):i._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Te(t,e){var n,i,r,s=this;if("object"==typeof t){n=[];for(i in t)t.hasOwnProperty(i)&&n.push(this.on(i,t[i]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return r=t.split(" ").map(uc).filter(hc),r.forEach(function(t){(s._subs[t]||(s._subs[t]=[])).push(e)}),{cancel:function(){return s.off(t,e)}}}function Oe(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function Pe(t,e,n){var i,r,s,o,a,u,h=[];if(i=Fe(t,e,n),!i)return null;for(r=t.length,a=i.length-2-i[1],s=Math.min(r,i[0]),o=s+i[1],u=0;s>u;u+=1)h.push(u);for(;o>u;u+=1)h.push(-1);for(;r>u;u+=1)h.push(u+a);return h.touchedFrom=0!==a?i[0]:t.length,h}function Fe(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t.length+Math.max(n[0],-t.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(n);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(n)}}function je(e,n){var i,r,s,o=this;if(s=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),i=dh.start(this,!0),dh.scheduleTask(function(){return Sc.fire(o)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var a=e.__ractive_instances__;a&&a.length&&Re(a),e.innerHTML=""}return this.cssId&&Ec.apply(),e&&((r=e.__ractive_instances__)?r.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),dh.end(),this.transitionsEnabled=s,i.then(function(){return Ac.fire(o)})}function Re(t){t.splice(0,t.length).forEach(Q)}function Ne(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function De(t,e){var n,i,r;return i='[data-ractive-css~="{'+e+'}"]',r=function(t){var e,n,r,s,o,a,u,h=[];for(e=[];n=jc.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(s=e.map(Le),u=e.length;u--;)a=s.slice(),r=e[u],a[u]=r.base+i+r.modifiers||"",o=s.slice(),o[u]=i+" "+o[u],h.push(a.join(" "),o.join(" "));return h.join(", ")},n=Nc.test(t)?t.replace(Nc,i):t.replace(Fc,"").replace(Pc,function(t,e){var n,i;return Rc.test(e)?t:(n=e.split(",").map(Ie),i=n.map(r).join(", ")+" ",t.replace(e,i))})}function Ie(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function Le(t){return t.str}function Ve(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?l("data option must be an object or a function, `"+t+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Me(t,e){Ve(e);var n="function"==typeof t,i="function"==typeof e;return e||n||(e={}),n||i?function(){var r=i?Ue(e,this):e,s=n?Ue(t,this):t;return We(r,s)}:We(e,t)}function Ue(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&l("Data function must return an object"),n.constructor!==Object&&g("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function We(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function ze(t){var e,n,i;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(Fl))?t.matchPattern(jl)?(i=t.matchPattern(Fl))?(t.allowWhitespace(),t.matchString("=")?[n,i]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}function qe(t){var e;return(e=t.matchPattern(Nl))?{t:fl,v:e}:null}function Be(t){var e,n;if(t.interpolate[t.inside]===!1)return null;for(n=0;n<t.tags.length;n+=1)if(e=$e(t,t.tags[n]))return e}function $e(t,e){var n,i,r,s;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(i=Pl(t))return t.matchString(e.close)?(e.open=i[0],e.close=i[1],t.sortMustacheTags(),Il):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var o=t.pos;Rl(t)?t.pos=o:(t.pos=o-e.close.length,t.error("Attempted to close a section that wasn't open"))}for(s=0;s<e.readers.length;s+=1)if(r=e.readers[s],i=r(t,e))return e.isStatic&&(i.s=!0),t.includeLinePositions&&(i.p=t.getLinePos(n)),i;return t.pos=n,null}function Qe(t){var e;return(e=t.matchPattern(Ul))?{t:al,v:e}:null}function Ze(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:ll,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:ll,v:"false"}):null}function He(t){var e;return(e=Zl(t))?Gl.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=Ml(t))?e.v:(e=t.matchPattern(Hl))?e:void 0}function Ke(t){var e,n,i;return e=t.pos,t.allowWhitespace(),n=Kl(t),null===n?(t.pos=e,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),i=Cf(t),null===i?(t.pos=e,null):{t:pl,k:n,v:i}):(t.pos=e,null))}function Ge(t){var e,n,i,r;return e=t.pos,i=Yl(t),null===i?null:(n=[i],t.matchString(",")?(r=Ge(t),r?n.concat(r):(t.pos=e,null)):n)}function Ye(t){function e(t){i.push(t)}var n,i,r,s;return n=t.pos,t.allowWhitespace(),r=Cf(t),null===r?null:(i=[r],t.allowWhitespace(),t.matchString(",")&&(s=Ye(t),null===s&&t.error(Ll),s.forEach(e)),i)}function Je(t){return Ml(t)||Wl(t)||Zl(t)||Xl(t)||ef(t)||Rl(t)}function Xe(t){var e,n,i,r,s,o;return e=t.pos,i=t.matchPattern(/^@(?:keypath|index|key)/),i||(n=t.matchPattern(sf)||"",i=!n&&t.relaxedNames&&t.matchPattern(hf)||t.matchPattern(uf),i||"."!==n||(n="",i=".")),i?n||t.relaxedNames||!ql.test(i)?!n&&zl.test(i)?(r=zl.exec(i)[0],t.pos=e+r.length,{t:dl,v:r}):(s=(n||"")+C(i),t.matchString("(")&&(o=s.lastIndexOf("."),-1!==o?(s=s.substr(0,o),t.pos=e+s.length):t.pos-=1),{t:ml,n:s.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=e,null):null}function tn(t){var e,n;return e=t.pos,t.matchString("(")?(t.allowWhitespace(),n=Cf(t),n||t.error(Ll),t.allowWhitespace(),t.matchString(")")||t.error(Vl),{t:bl,x:n}):null}function en(t){var e,n,i;if(e=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(Hl))return{t:gl,n:n};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),i=Cf(t),i||t.error(Ll),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:gl,x:i}):null}function nn(t){var e,n,i,r;return(n=Sf(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),i=Cf(t),i||t.error(Ll),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),r=Cf(t),r||t.error(Ll),{t:wl,o:[n,i,r]}):(t.pos=e,n)):null}function rn(t){return Af(t)}function sn(t){function e(t){switch(t.t){case ll:case dl:case al:case fl:return t.v;case ul:return JSON.stringify(String(t.v));case hl:return"["+(t.m?t.m.map(e).join(","):"")+"]";case cl:return"{"+(t.m?t.m.map(e).join(","):"")+"}";case pl:return t.k+":"+e(t.v);case yl:return("typeof"===t.s?"typeof ":t.s)+e(t.o);case xl:return e(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+e(t.o[1]);case kl:return e(t.x)+"("+(t.o?t.o.map(e).join(","):"")+")";case bl:return"("+e(t.x)+")";case vl:return e(t.x)+e(t.r);case gl:return t.n?"."+t.n:"["+e(t.x)+"]";case wl:return e(t.o[0])+"?"+e(t.o[1])+":"+e(t.o[2]);case ml:return"_"+n.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var n;return on(t,n=[]),{r:n,s:e(t)}}function on(t,e){var n,i;if(t.t===ml&&-1===e.indexOf(t.n)&&e.unshift(t.n),i=t.o||t.m)if(h(i))on(i,e);else for(n=i.length;n--;)on(i[n],e);t.x&&on(t.x,e),t.r&&on(t.r,e),t.v&&on(t.v,e)}function an(t,e){var n;if(t){for(;t.t===bl&&t.x;)t=t.x;return t.t===ml?e.r=t.n:t.t===al&&Pf.test(t.v)?e.r=t.v:(n=un(t))?e.rx=n:e.x=Tf(t),e}}function un(t){for(var e,n=[];t.t===vl&&t.r.t===gl;)e=t.r,n.unshift(e.x?e.x.t===ml?e.x:Tf(e.x):e.n),t=t.x;return t.t!==ml?null:{r:t.n,m:n}}function hn(t,e){var n,i=Cf(t);return i?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),n={t:Zc},Of(i,n),n):null}function cn(t,e){var n,i;return t.matchString("&")?(t.allowWhitespace(),(n=Cf(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),i={t:Zc},Of(n,i),i):null):null}function ln(t,e){var n,i,r,s,o;return n=t.pos,t.matchString(">")?(t.allowWhitespace(),i=t.pos,t.relaxedNames=!0,r=Cf(t),t.relaxedNames=!1,t.allowWhitespace(),s=Cf(t),t.allowWhitespace(),r?(o={t:Jc},Of(r,o),t.allowWhitespace(),s&&(o={t:Hc,n:Al,f:[o]},Of(s,o)),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):null):null}function fn(t,e){var n;return t.matchString("!")?(n=t.remaining().indexOf(e.close),-1!==n?(t.pos+=n+e.close.length,{t:Xc}):void 0):null}function dn(t,e){var n,i,r;if(n=t.pos,i=Cf(t),!i)return null;for(r=0;r<e.length;r+=1)if(t.remaining().substr(0,e[r].length)===e[r])return i;return t.pos=n,rf(t)}function pn(t,e){var n,i,r,s;n=t.pos;try{i=Df(t,[e.close])}catch(t){s=t}if(!i){if("!"===t.str.charAt(n))return t.pos=n,null;if(s)throw s}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!i)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return r={t:Qc},Of(i,r),r}function mn(t,e){var n,i,r;return t.matchPattern(Vf)?(n=t.pos,i=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name"),r={t:rl},i&&(r.n=i),r):null}function gn(t,e){var n,i,r,s;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),i=t.remaining(),r=i.indexOf(e.close),-1!==r?(s={t:Gc,r:i.substr(0,r).split(" ")[0]},t.pos+=r,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),s):(t.pos=n,null)):(t.pos=n,null)):null}function vn(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(Wf)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Tl}):(t.pos=n,null):null}function yn(t,e){var n,i=t.pos;return t.matchString(e.open)?t.matchPattern(qf)?(n=Cf(t),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Ol,x:n}):(t.pos=i,null):null}function bn(t,e){var n,i,r,s,o,a,u,h,c,l,f,d;if(n=t.pos,t.matchString("^"))r={t:Hc,f:[],n:_l};else{if(!t.matchString("#"))return null;r={t:Hc,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(Hf))&&(d=u,r.n=Bf[u])}if(t.allowWhitespace(),i=Cf(t),i||t.error("Expected expression"),f=t.matchPattern(Qf)){var p=void 0;r.i=(p=t.matchPattern(Zf))?f+","+p:f}t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,o=r.f,c=[];do if(s=Mf(t,e))d&&s.r!==d&&t.error("Expected "+e.open+"/"+d+e.close),t.sectionDepth-=1,l=!0;else if(s=zf(t,e))r.n===_l&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),h||(h=wn(i,r.n)),h.f.push({t:Hc,n:El,x:Tf(kn(c.concat(s.x))),f:o=[]}),c.push(xn(s.x));else if(s=Uf(t,e))r.n===_l&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,h?h.f.push({t:Hc,n:El,x:Tf(kn(c)),f:o=[]}):(h=wn(i,r.n),o=h.f);else{if(s=t.read(Jd),!s)break;o.push(s)}while(!l);return h&&(r.n===Al&&(r.n=Cl),r.l=h),Of(i,r),r.f.length||delete r.f,r}function wn(t,e){var n;return e===Al?(n={t:Hc,n:El,f:[]},Of(xn(t),n)):(n={t:Hc,n:_l,f:[]},Of(t,n)),n}function xn(t){return t.t===yl&&"!"===t.s?t.o:{t:yl,s:"!",o:En(t)}}function kn(t){return 1===t.length?t[0]:{t:xl,s:"&&",o:[En(t[0]),En(kn(t.slice(1)))]}}function En(t){return{t:bl,x:t}}function _n(t){var e,n,i,r,s;return e=t.pos,t.matchString(Gf)?(i=t.remaining(),r=i.indexOf(Yf),-1===r&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),n=i.substr(0,r),t.pos+=r+3,s={t:Xc,c:n},t.includeLinePositions&&(s.p=t.getLinePos(e)),s):null}function Sn(t){return t.replace(xf,function(t,e){var n;return n="#"!==e[0]?bf[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(An(n)):t})}function An(t){return t?10===t?32:128>t?t:159>=t?wf[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function Cn(t){return t.replace(_f,"&amp;").replace(kf,"&lt;").replace(Ef,"&gt;")}function Tn(t){return"string"==typeof t}function On(t){return t.t===Xc||t.t===tl}function Pn(t){return(t.t===Hc||t.t===Kc)&&t.f}function Fn(t,e,n,i,r){var o,a,u,h,c,l,f,d;for(ad(t),o=t.length;o--;)a=t[o],a.exclude?t.splice(o,1):e&&a.t===Xc&&t.splice(o,1);for(ud(t,i?fd:null,r?dd:null),o=t.length;o--;){if(a=t[o],a.f){var p=a.t===Yc&&ld.test(a.e);c=n||p,!n&&p&&ud(a.f,pd,md),c||(u=t[o-1],h=t[o+1],(!u||"string"==typeof u&&dd.test(u))&&(l=!0),(!h||"string"==typeof h&&fd.test(h))&&(f=!0)),Fn(a.f,e,c,l,f)}if(a.l&&(Fn(a.l.f,e,n,l,f),t.splice(o+1,0,a.l),delete a.l),a.a)for(d in a.a)a.a.hasOwnProperty(d)&&"string"!=typeof a.a[d]&&Fn(a.a[d],e,n,l,f);if(a.m&&Fn(a.m,e,n,l,f),a.v)for(d in a.v)a.v.hasOwnProperty(d)&&(s(a.v[d].n)&&Fn(a.v[d].n,e,n,l,f),s(a.v[d].d)&&Fn(a.v[d].d,e,n,l,f))}for(o=t.length;o--;)"string"==typeof t[o]&&("string"==typeof t[o+1]&&(t[o]=t[o]+t[o+1],t.splice(o+1,1)),n||(t[o]=t[o].replace(cd," ")),""===t[o]&&t.splice(o,1))}function jn(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(vd))?t.inside&&n!==t.inside?(t.pos=e,null):{t:nl,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Rn(t){var e,n,i;return t.allowWhitespace(),(n=t.matchPattern(wd))?(e={name:n},i=Nn(t),null!=i&&(e.value=i),e):null}function Nn(t){var e,n,i,r;return e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,i=t.sectionDepth,r=Ln(t,"'")||Ln(t,'"')||In(t),null===r&&t.error("Expected valid attribute value"),t.sectionDepth!==i&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),r.length?1===r.length&&"string"==typeof r[0]?Sn(r[0]):r:""):(t.pos=e,null)}function Dn(t){var e,n,i,r,s;return e=t.pos,(n=t.matchPattern(xd))?(i=n,r=t.tags.map(function(t){return t.open}),-1!==(s=yd(i,r))&&(n=n.substr(0,s),t.pos=e+n.length),n):null}function In(t){var e,n;for(t.inAttribute=!0,e=[],n=Dl(t)||Dn(t);null!==n;)e.push(n),n=Dl(t)||Dn(t);return e.length?(t.inAttribute=!1,e):null}function Ln(t,e){var n,i,r;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,i=[],r=Dl(t)||Vn(t,e);null!==r;)i.push(r),r=Dl(t)||Vn(t,e);return t.matchString(e)?(t.inAttribute=!1,i):(t.pos=n,null)}function Vn(t,e){var n,i,r,s;return n=t.pos,r=t.remaining(),s=t.tags.map(function(t){return t.open}),s.push(e),i=yd(r,s),-1===i&&t.error("Quoted attribute value must have a closing quote"),i?(t.pos+=i,r.substr(0,i)):null}function Mn(t){var e,n,i;return t.allowWhitespace(),(e=Kl(t))?(i={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(i.value=n.v,i):null):null):null}function Un(t,e){var n,i,r,s,o,a,u,h,c;if("string"==typeof t){if(i=Sd.exec(t)){var l=t.lastIndexOf(")");return Ad.test(t)||e.error("Invalid input after method call expression '"+t.slice(l+1)+"'"),n={m:i[1]},s="["+t.slice(n.m.length+1,l)+"]",r=new kd(s),n.a=Tf(r.result[0]),n
}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(n={},u=[],h=[],t){for(;t.length;)if(o=t.shift(),"string"==typeof o){if(a=o.indexOf(":"),-1!==a){a&&u.push(o.substr(0,a)),o.length>a+1&&(h[0]=o.substring(a+1));break}u.push(o)}else u.push(o);h=h.concat(t)}return u.length?h.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===h.length&&"string"==typeof h[0]?(c=Ed("["+h[0]+"]"),n.a=c?c.value:h[0].trim()):n.d=h):n=u:n="",n}function Wn(t){var e,n,i,r,s,o,a,u,h,c,l,f,d,p,m,g;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=ol,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=Yc,n.e=t.matchPattern(Td),!n.e)return null;for(Od.test(t.nextChar())||t.error("Illegal tag name"),s=function(e,i){var r=i.n||i;jd.test(r)&&(t.pos-=r.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[e]=i},t.allowWhitespace();o=Dl(t)||bd(t);)o.name?(i=Rd[o.name])?n[i]=_d(o.value,t):(r=Fd.exec(o.name))?(n.v||(n.v={}),a=_d(o.value,t),s(r[1],a)):t.sanitizeEventAttributes&&Pd.test(o.name)||(n.a||(n.a={}),n.a[o.name]=o.value||(""===o.value?"":0)):(n.m||(n.m=[]),n.m.push(o)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(u=!0),!t.matchString(">"))return null;var v=n.e.toLowerCase(),y=t.preserveWhitespace;if(!u&&!yf.test(n.e)){t.elementStack.push(v),("script"===v||"style"===v)&&(t.inside=v),h=[],c=bu(null);do if(p=t.pos,m=t.remaining(),zn(v,m))if(g=gd(t)){d=!0;var b=g.e.toLowerCase();if(b!==v&&(t.pos=p,!~t.elementStack.indexOf(b))){var w="Unexpected closing tag";yf.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),t.error(w)}}else(f=Mf(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(d=!0,t.pos=p):(f=t.read(Xd))?(c[f.n]&&(t.pos=p,t.error("Duplicate partial definition")),hd(f.f,t.stripComments,y,!y,!y),c[f.n]=f.f,l=!0):(f=t.read(Jd))?h.push(f):d=!0;else d=!0;while(!d);h.length&&(n.f=h),l&&(n.p=c),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(v)?Nd:n}function zn(t,e){var n,i;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),i=Cd[t],n&&i?!~i.indexOf(n[1].toLowerCase()):!0}function qn(t){var e,n,i,r;return n=t.remaining(),r=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(r):(i=t.tags.map(function(t){return t.open}),i=i.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?i.push('"',"'","=","<",">","`"):i.push(t.inAttribute?t.inAttribute:r),e=yd(n,i)),e?(-1===e&&(e=n.length),t.pos+=e,t.inside?n.substr(0,e):Sn(n.substr(0,e))):null}function Bn(t){return t.replace(Md,"\\$&")}function $n(t){var e=t.pos,n=t.standardDelimiters[0],i=t.standardDelimiters[1],r=void 0,s=void 0;if(!t.matchPattern(Wd)||!t.matchString(n))return t.pos=e,null;var o=t.matchPattern(zd);if(g("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+o+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+o+"}} --> ... <!-- {{/"+o+"}} -->'"),!t.matchString(i)||!t.matchPattern(qd))return t.pos=e,null;r=[];var a=new RegExp("^<!--\\s*"+Vd(n)+"\\s*\\/\\s*"+o+"\\s*"+Vd(i)+"\\s*-->");do t.matchPattern(a)?s=!0:(Dd=t.read(Jd),Dd||t.error("expected closing comment ('<!-- "+n+"/"+o+i+" -->')"),r.push(Dd));while(!s);return{t:sl,f:r,n:o}}function Qn(t){var e,n,i,r,s;e=t.pos;var o=t.standardDelimiters;if(!t.matchString(o[0]))return null;if(!t.matchPattern($d))return t.pos=e,null;n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||t.error("expected legal partial name"),t.matchString(o[1])||t.error("Expected closing delimiter '"+o[1]+"'"),i=[];do(r=Mf(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!r.r&&t.error("Expected "+o[0]+"/partial"+o[1]),s=!0):(r=t.read(Jd),r||t.error("Expected "+o[0]+"/partial"+o[1]),i.push(r));while(!s);return{t:sl,n:n,f:i}}function Zn(t){for(var e=[],n=bu(null),i=!1,r=t.preserveWhitespace;t.pos<t.str.length;){var s=t.pos,o=void 0,a=void 0;(a=t.read(Xd))?(n[a.n]&&(t.pos=s,t.error("Duplicated partial definition")),hd(a.f,t.stripComments,r,!r,!r),n[a.n]=a.f,i=!0):(o=t.read(Jd))?e.push(o):t.error("Unexpected template content")}var u={v:ou,t:e};return i&&(u.p=n),u}function Hn(t,e){return new Yd(t,e||{}).result}function Kn(t){var e=bu(rp);return e.parse=function(e,n){return Gn(e,n||t)},e}function Gn(t,e){if(!Zd)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Zd(t,e||this.options)}function Yn(t,e){var n;if(!Xa){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Jn(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML}function Jn(t){return t&&"#"===t[0]}function Xn(t){return!("string"==typeof t)}function ti(t){return t.defaults&&(t=t.defaults),ip.reduce(function(e,n){return e[n]=t[n],e},{})}function ei(t){var e,n=t._config.template;if(n&&n.fn)return e=ni(t,n.fn),e!==n.result?(n.result=e,e=ri(e,t)):void 0}function ni(t,e){var n=ii(sp.getParseOptions(t));return e.call(t,n)}function ii(t){var e=bu(sp);return e.parse=function(e,n){return sp.parse(e,n||t)},e}function ri(t,e){if("string"==typeof t)"#"===t[0]&&(t=sp.fromId(t)),t=Zd(t,sp.getParseOptions(e));else{if(void 0==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==ou)throw new Error("Mismatched template version (expected "+ou+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function si(t,e,n){if(e)for(var i in e)(n||!t.hasOwnProperty(i))&&(t[i]=e[i])}function oi(t,e,n){if(!/_super/.test(n))return n;var i=function(){var t,r=ai(i._parent,e),s="_super"in this,o=this._super;return this._super=r,t=n.apply(this,arguments),s?this._super=o:delete this._super,t};return i._parent=t,i._method=n,i}function ai(t,e){var n,i;return e in t?(n=t[e],i="function"==typeof n?n:function(){return n}):i=Ou,i}function ui(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function hi(t,e,n){if(e in t){if(n in t)throw new Error(ui(e,n,!0));m(ui(e,n)),t[n]=t[e]}}function ci(t){hi(t,"beforeInit","onconstruct"),hi(t,"init","onrender"),hi(t,"complete","oncomplete"),hi(t,"eventDefinitions","events"),s(t.adaptors)&&hi(t,"adaptors","adapt")}function li(t,e,n,i){gp(i);for(var r in i)if(dp.hasOwnProperty(r)){var s=i[r];"el"!==r&&"function"==typeof s?m(""+r+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[r]=s}pp.forEach(function(r){r[t](e,n,i)}),Tc[t](e,n,i),ap[t](e,n,i),Lc[t](e,n,i),fi(e.prototype,n,i)}function fi(t,e,n){for(var i in n)if(!fp[i]&&n.hasOwnProperty(i)){var r=n[i];"function"==typeof r&&(r=mp(t,i,r)),e[i]=r}}function di(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function pi(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function mi(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();n&&t.appendChild(n)}),t)}function gi(t){var e,n,i,r;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(i=this.items[e],i.find&&(r=i.find(t)))return r;return null}}function vi(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAll&&r.findAll(t,e);return e}function yi(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAllComponents&&r.findAllComponents(t,e);return e}function bi(t){var e,n,i,r;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(i=this.items[n],i.findComponent&&(r=i.findComponent(t)))return r;return null}}function wi(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xi(){return this.items&&this.items[0]?this.items[0].firstNode():null}function ki(t,e,n,i){return i=i||0,t.map(function(t){var r,s,o;return t.text?t.text:t.fragments?t.fragments.map(function(t){return ki(t.items,e,n,i)}).join(""):(r=n+"-"+i++,o=t.keypath&&(s=t.root.viewmodel.wrapped[t.keypath.str])?s.value:t.getValue(),e[r]=o,"${"+r+"}")}).join("")}function Ei(){var t,e,n,i;return this.dirtyArgs&&(e=Ap(this.items,t={},this.root._guid),n=Ed("["+e+"]",t),i=n?n.value:[this.toString()],this.argsList=i,this.dirtyArgs=!1),this.argsList}function _i(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function Si(){var t,e,n,i;return this.dirtyValue&&(e=Ap(this.items,t={},this.root._guid),n=Ed(e,t),i=n?n.value:this.toString(),this.value=i,this.dirtyValue=!1),this.value}function Ai(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Ci(){return this.value}function Ti(t,e){for(var n,i=0;i<e.prop.length;i++)if(void 0!==(n=t[e.prop[i]]))return n}function Oi(t,e){var n,i,r,s,o,a={},u=!1;for(e||(a.refs=n={});t;){if((o=t.owner)&&(i=o.indexRefs)){if(e&&(r=o.getIndexRef(e)))return a.ref={fragment:t,ref:r},a;if(!e)for(s in i)r=i[s],n[r.n]||(u=!0,n[r.n]={fragment:t,ref:r})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(a.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return u?a:void 0}function Pi(t,e,n){var i;return"@"===e.charAt(0)?new Mp(t,e,n):(i=zp(t.parentFragment,e))?new Wp(t,i,n):new Ip(t,e,n)}function Fi(t,e){var n,i;if(Qp[t])return Qp[t];for(i=[];e--;)i[e]="_"+e;return n=new Function(i.join(","),"return("+t+")"),Qp[t]=n,n}function ji(t){return t.call()}function Ri(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var i,r;return+n>=e.length?"_"+n:(i=e[n],void 0===i?"undefined":i.isSpecial?(r=i.value,"number"==typeof r?r:'"'+r+'"'):i.str)})}function Ni(t){return _("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Di(t){return void 0!==t&&"@"!==t[0]}function Ii(t,e){var n,i,r;if(t.__ractive_nowrap)return t;if(i="__ractive_"+e._guid,n=t[i])return n;if(/this/.test(t.toString())){wu(t,i,{value:Zp.call(t,e),configurable:!0});for(r in t)t.hasOwnProperty(r)&&(t[i][r]=t[r]);return e._boundFunctions.push({fn:t,prop:i}),t[i]}return wu(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function Li(t){return t.value}function Vi(t){return void 0!=t}function Mi(t){t.forceResolution()}function Ui(t,e){function n(e){t.resolve(e)}function i(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))}var r,s,o;s=e.parentFragment,o=e.template,t.root=s.root,t.parentFragment=s,t.pElement=s.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(r=o.r)&&(t.resolver=Bp(t,r,n)),e.template.x&&(t.resolver=new Hp(t,s,e.template.x,i)),e.template.rx&&(t.resolver=new Jp(t,e.template.rx,i)),t.template.n!==_l||t.hasOwnProperty("value")||t.setValue(void 0)}function Wi(t){var e,n,i;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(i=this.twowayBinding)&&i.rebound()))}function zi(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function qi(){this.parentFragment.bubble()}function Bi(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function $i(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].find(t))return i;return null}function Qi(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAll(t,e)}function Zi(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAllComponents(t,e)}function Hi(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].findComponent(t))return i;return null}function Ki(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Gi(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Yi(t){var e,n,i,r,s,o,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Sl){if(this.shuffling=!0,dh.scheduleTask(function(){return u.shuffling=!1}),e=this.parentFragment,s=[],t.forEach(function(t,e){var i,r,o,a,h;return t===e?void(s[t]=u.fragments[e]):(i=u.fragments[e],void 0===n&&(n=e),-1===t?(u.fragmentsToUnrender.push(i),void i.unbind()):(r=t-e,o=u.keypath.join(e),a=u.keypath.join(t),i.index=t,(h=i.registeredIndexRefs)&&h.forEach(Ji),i.rebind(o,a),void(s[t]=i)))}),r=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===r)return;n=this.length}for(this.length=this.fragments.length=r,this.rendered&&dh.addView(this),o={template:this.template.f,root:this.root,owner:this},i=n;r>i;i+=1)a=s[i],a||this.fragmentsToCreate.push(i),this.fragments[i]=a}}function Ji(t){t.rebind("","")}function Xi(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function tr(t){var e,n,i=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=i.keypath.join(t),n.index=t,e=new gw(n),i.fragmentsToRender.push(i.fragments[t]=e)}),this.fragmentsToCreate.length=0):nr(this,t)&&(this.bubble(),this.rendered&&dh.addView(this)),this.value=t,this.updating=!1)}function er(t,e,n){if(e===Sl&&t.indexRefs&&t.indexRefs[0]){var i=t.indexRefs[0];(n&&"i"===i.t||!n&&"k"===i.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),i.t=n?"k":"i"}t.currentSubtype=e}function nr(t,e){var n={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case El:return t.hasContext=!1,ar(t,e,!1,n);case _l:return t.hasContext=!1,ar(t,e,!0,n);case Al:return or(t,n);case Cl:return sr(t,e,n);case Sl:if(h(e))return er(t,t.subtype,!0),rr(t,e,n)}return t.ordered=!!o(e),t.ordered?(er(t,Sl,!1),ir(t,e,n)):h(e)||"function"==typeof e?t.template.i?(er(t,Sl,!0),rr(t,e,n)):(er(t,Al,!1),or(t,n)):(er(t,El,!1),t.hasContext=!1,ar(t,e,!1,n))}function ir(t,e,n){var i,r,s;if(r=e.length,r===t.length)return!1;if(r<t.length)t.fragmentsToUnrender=t.fragments.splice(r,t.length-r),t.fragmentsToUnrender.forEach(Z);else if(r>t.length)for(i=t.length;r>i;i+=1)n.context=t.keypath.join(i),n.index=i,s=new gw(n),t.fragmentsToRender.push(t.fragments[i]=s);return t.length=r,!0}function rr(t,e,n){var i,r,s,o,a,u;for(s=t.hasKey||(t.hasKey={}),r=t.fragments.length;r--;)o=t.fragments[r],o.key in e||(a=!0,o.unbind(),t.fragmentsToUnrender.push(o),t.fragments.splice(r,1),s[o.key]=!1);for(r=t.fragments.length;r--;)o=t.fragments[r],o.index!==r&&(o.index=r,(u=o.registeredIndexRefs)&&u.forEach(cr));r=t.fragments.length;for(i in e)s[i]||(a=!0,n.context=t.keypath.join(i),n.key=i,n.index=r++,o=new gw(n),t.fragmentsToRender.push(o),t.fragments.push(o),s[i]=!0);return t.length=t.fragments.length,a}function sr(t,e,n){return e?or(t,n):ur(t)}function or(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new gw(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function ar(t,e,n,i){var r,s,a,u,c;if(s=o(e)&&0===e.length,a=!1,!o(e)&&h(e)){a=!0;for(c in e){a=!1;break}}return r=n?s||a||!e:e&&!s&&!a,r?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(Z),!0):void 0:(i.index=0,u=new gw(i),t.fragmentsToRender.push(t.fragments[0]=u),t.length=1,!0):ur(t)}function ur(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(hr),t.fragmentsToUnrender.forEach(Z),t.length=t.fragmentsToRender.length=0,!0):void 0}function hr(t){return t.rendered}function cr(t){t.rebind("","")}function lr(t){var e,n,i;for(e="",n=0,i=this.length,n=0;i>n;n+=1)e+=this.fragments[n].toString(t);return e}function fr(){var t=this;this.fragments.forEach(Z),this.fragmentsToRender.forEach(function(e){return I(t.fragments,e)}),this.fragmentsToRender=[],Rp.call(this),this.length=0,this.unbound=!0}function dr(t){this.fragments.forEach(t?pr:mr),this.renderedFragments=[],this.rendered=!1}function pr(t){t.unrender(!0)}function mr(t){t.unrender(!1)}function gr(){var t,e,n,i,r,s,o;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(r=this.parentFragment.getNode()),o=this.fragments.length,s=0;o>s;s+=1)t=this.fragments[s],e=n.indexOf(t,s),e!==s?(this.docFrag.appendChild(t.detach()),-1!==e&&n.splice(e,1),n.splice(s,0,t)):this.docFrag.childNodes.length&&(i=t.firstNode(),r.insertBefore(this.docFrag,i));this.rendered&&this.docFrag.childNodes.length&&(i=this.parentFragment.findNextNode(this),r.insertBefore(this.docFrag,i)),this.renderedFragments=this.fragments.slice()}function vr(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function yr(t){var e,n,i,r;for(n=this.nodes.length,e=0;n>e;e+=1)if(i=this.nodes[e],1===i.nodeType){if(lu(i,t))return i;if(r=i.querySelector(t))return r}return null}function br(t,e){var n,i,r,s,o,a;for(i=this.nodes.length,n=0;i>n;n+=1)if(r=this.nodes[n],1===r.nodeType&&(lu(r,t)&&e.push(r),s=r.querySelectorAll(t)))for(o=s.length,a=0;o>a;a+=1)e.push(s[a])}function wr(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xr(t){return Om[t]||(Om[t]=cu(t))}function kr(t){var e,n,i;t&&"select"===t.name&&t.binding&&(e=L(t.node.options).filter(Er),t.getAttribute("multiple")?i=e.map(function(t){return t.value}):(n=e[0])&&(i=n.value),void 0!==i&&t.binding.setValue(i),t.bubble())}function Er(t){return t.selected}function _r(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Pm(this.value,this.parentFragment.getNode(),this.docFrag),Fm(this.pElement),this.rendered=!0,this.docFrag}function Sr(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&dh.addView(this))}function Ar(){return void 0!=this.value?Sn(""+this.value):""}function Cr(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Tr(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=Pm(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Fm(this.pElement)}}function Or(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0}function Pr(){return null}function Fr(){return this.node}function jr(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function Rr(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();a(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&dh.addView(this))}function Nr(t){var e=t.fragment.items;if(1===e.length)return e[0].type===Qc?e[0]:void 0}function Dr(t){return this.type=el,this.element=t.element,this.root=t.root,ig(this,t.name),this.isBoolean=vf.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new gw({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=rg(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Ir(t,e){this.fragment&&this.fragment.rebind(t,e)}function Lr(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==iu.html||(e=ug[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Vr(){var t=this,e=t.name,n=t.namespacePrefix,i=t.value,r=t.interpolator,s=t.fragment;if(("value"!==e||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==e||void 0===this.element.getAttribute("contenteditable"))){if("name"===e&&"input"===this.element.name&&r)return"name={{"+(r.keypath.str||r.ref)+"}}";if(this.isBoolean)return i?e:"";if(s){if(1===s.items.length&&null==s.items[0].value)return"";i=s.toString()}return n&&(e=n+":"+e),i?e+'="'+Mr(i)+'"':e}}function Mr(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Ur(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Wr(){var t,e,n,i,r=this.value;if(!this.locked)for(this.node._ractive.value=r,t=this.node.options,i=t.length;i--;)if(e=t[i],n=e._ractive?e._ractive.value:e.value,n==r){e.selected=!0;break}}function zr(){var t,e,n,i,r=this.value;for(s(r)||(r=[r]),t=this.node.options,e=t.length;e--;)n=t[e],i=n._ractive?n._ractive.value:n.value,n.selected=j(r,i)}function qr(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function Br(){var t,e,n,i,r=this.node;if(t=r.checked,r.value=this.element.getAttribute("value"),r.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!r.checked&&this.element.binding&&(n=this.element.binding.siblings,i=n.length)){for(;i--;){if(e=n[i],!e.element.node)return;if(e.element.node.checked)return dh.addRactive(e.root),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function $r(){var t,e,n=this,i=n.element,r=n.node,o=n.value,a=i.binding;if(t=i.getAttribute("value"),s(o)){for(e=o.length;e--;)if(t==o[e])return void(a.isChecked=r.checked=!0);a.isChecked=r.checked=!1}else a.isChecked=r.checked=o==t}function Qr(){this.node.className=n(this.value)}function Zr(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Hr(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function Kr(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Gr(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Yr(){this.locked||(this.node[this.propertyName]=this.value)}function Jr(){var t=this,e=t.node,n=t.namespace,i=t.name,r=t.value,s=t.fragment;n?e.setAttributeNS(n,i,(s||r).toString()):this.isBoolean?r?e.setAttribute(i,""):e.removeAttribute(i):null==r?e.removeAttribute(i):e.setAttribute(i,(s||r).toString())}function Xr(){var t,e,n=this,i=n.name,r=n.element,s=n.node;"id"===i?e=vg:"value"===i?"select"===r.name&&"value"===i?e=r.getAttribute("multiple")?fg:lg:"textarea"===r.name?e=wg:null!=r.getAttribute("contenteditable")?e=bg:"input"===r.name&&(t=r.getAttribute("type"),e="file"===t?Ou:"radio"===t&&r.binding&&"name"===r.binding.name?pg:wg):this.isTwoway&&"name"===i?"radio"===s.type?e=dg:"checkbox"===s.type&&(e=mg):"style"===i&&s.style.setAttribute?e=yg:"class"!==i||s.namespaceURI&&s.namespaceURI!==iu.html?this.useProperty&&(e=xg):e=gg,e||(e=kg),this.update=e,this.update()}function ts(t,e){var n=e?"svg":"div";return Sg.innerHTML="<"+n+" "+t+"></"+n+">",L(Sg.childNodes[0].attributes)}function es(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function ns(t){for(;t=t.parent;)if("form"===t.name)return t}function is(){this._ractive.binding.handleChange()}function rs(){var t;Ng.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function ss(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&Ng.call(e),t._timeout=void 0},t.element.lazy)}function os(t,e,n){var i=t+e+n;return Mg[i]||(Mg[i]=[])}function as(t){return t.isChecked}function us(t){return t.element.getAttribute("value")}function hs(t){var e,n,i,r,s,o=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||o.contenteditable&&cs(o.contenteditable))&&cs(o.value)?n=Lg:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(i=cs(o.name),r=cs(o.checked),i&&r&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),i?n="radio"===e?qg:$g:r&&(n="radio"===e?Wg:Zg)):"file"===e&&cs(o.value)?n=Xg:cs(o.value)&&(n="number"===e||"range"===e?tv:Dg)):"select"===t.name&&cs(o.value)?n=t.getAttribute("multiple")?Yg:Kg:"textarea"===t.name&&cs(o.value)&&(n=Dg),n&&(s=new n(t))&&s.keypath?s:void 0}function cs(t){return t&&t.isBindable}function ls(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function fs(t){Mh(this.root,this.getAction(),{event:t})}function ds(){return this.action.toString().trim()}function ps(t,e,n){var i,r,s,o=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,-1!==e.indexOf("*")&&(l('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(r=n.a.r,this.method=n.m,this.keypaths=[],this.fn=$p(n.a.s,r.length),this.parentFragment=t.parentFragment,s=this.root,this.refResolvers=[],r.forEach(function(t,e){var n=void 0;(n=ov.exec(t))?o.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:o.refResolvers.push(Bp(o,t,function(t){return o.resolve(e,t)}))}),this.fire=ms):(i=n.n||n,"string"!=typeof i&&(i=new gw({template:i,root:this.root,owner:this})),this.action=i,n.d?(this.dynamicParams=new gw({template:n.d,root:this.root,owner:this.element}),this.fire=vs):n.a&&(this.params=n.a,this.fire=gs))}function ms(t){var e,n,i;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var i,r,s;if(void 0===n)return void 0;if(n.eventObject){if(i=t,r=n.refinements.length)for(s=0;r>s;s+=1)i=i[n.refinements[s]]}else i=e.viewmodel.get(n);return i}),Vh.enqueue(e,t),i=this.fn.apply(null,n),e[this.method].apply(e,i),Vh.dequeue(e)}function gs(t){Mh(this.root,this.getAction(),{event:t,args:this.params})}function vs(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),Mh(this.root,this.getAction(),{event:t,args:e})}function ys(t){var e,n,i,r={};e=this._ractive,n=e.events[t.type],(i=zp(n.element.parentFragment))&&(r=zp.resolve(i)),n.fire({node:this,original:t,index:r,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function bs(){var t,e=this.name;if(!this.invalid){if(t=v("events",this.root,e))this.custom=t(this.node,ws(e));else{if(!("on"+e in this.node||window&&"on"+e in window||tu))return void(cv[e]||g(Ru(e,"event"),{node:this.node}));this.node.addEventListener(e,av,!1)}this.hasListener=!0}}function ws(t){return hv[t]||(hv[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),hv[t]}function xs(t,e){function n(n){n&&n.rebind(t,e)}var i;return this.method?(i=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function ks(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Es(t,e){this.keypaths[t]=e}function _s(){return this.method?void this.refResolvers.forEach(Z):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Ss(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,av,!1),this.hasListener=!1}function As(){var t=this;this.dirty||(this.dirty=!0,dh.scheduleTask(function(){Cs(t),t.dirty=!1})),this.parentFragment.bubble()}function Cs(t){var e,n,i,r,s;e=t.node,e&&(r=L(e.options),n=t.getAttribute("value"),i=t.getAttribute("multiple"),void 0!==n?(r.forEach(function(t){var e,r;e=t._ractive?t._ractive.value:t.value,r=i?Ts(n,e):n==e,r&&(s=!0),t.selected=r}),s||(r[0]&&(r[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function Ts(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function Os(t,e){t.select=Fs(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function Ps(t){t.select&&I(t.select.options,t)}function Fs(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function js(t){var e,n,i,r,s,o,a;this.type=Yc,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=i=e.root,this.index=t.index,this.key=t.key,this.name=ng(n.e),"option"===this.name&&Os(this,n),"select"===this.name&&(this.options=[],this.bubble=As),"form"===this.name&&(this.formBindings=[]),a=tg(this,n),this.attributes=Cg(this,n.a),this.conditionalAttributes=Pg(this,n.m),n.f&&(this.fragment=new gw({template:n.f,root:i,owner:this,pElement:this,cssIds:null})),o=i.twoway,a.twoway===!1?o=!1:a.twoway===!0&&(o=!0),this.twoway=o,this.lazy=a.lazy,o&&(r=ev(this,n.a))&&(this.binding=r,s=this.root._twowayBindings[r.keypath.str]||(this.root._twowayBindings[r.keypath.str]=[]),s.push(r)),n.v&&(this.eventHandlers=yv(this,n.v)),n.o&&(this.decorator=new Ev(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function Rs(t,e){function n(n){n.rebind(t,e)}var i,r,s,o;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),s=this.liveQueries)for(o=this.root,i=s.length;i--;)s[i]._makeDirty();this.node&&(r=this.node._ractive)&&k(r,"keypath",t,e)}function Ns(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),i=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==i&&t.node.setAttribute("height",i),t.node.removeEventListener("load",e,!1)},!1)}function Ds(t){t.node.addEventListener("reset",Ls,!1)}function Is(t){t.node.removeEventListener("reset",Ls,!1)}function Ls(){var t=this._ractive.proxy;dh.start(),t.formBindings.forEach(Vs),dh.end()}function Vs(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function Ms(t,e,n){var i,r,s;this.element=t,this.root=i=t.root,this.isIntro=n,r=e.n||e,("string"==typeof r||(s=new gw({template:r,root:i,owner:t}),r=s.toString(),s.unbind(),""!==r))&&(this.name=r,e.a?this.params=e.a:e.d&&(s=new gw({template:e.d,root:i,owner:t}),this.params=s.getArgsList(),s.unbind()),this._fn=v("transitions",i,r),this._fn||g(Ru(r,"transition"),{ractive:this.root}))
}function Us(t){return t}function Ws(){Xv.hidden=document[Kv]}function zs(){Xv.hidden=!0}function qs(){Xv.hidden=!1}function Bs(){var t,e,n,i=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(r){n||(!r&&i.isIntro&&$s(t,e),t._ractive.transition=null,i._manager.remove(i),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function $s(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function Qs(){var t,e,n,i=this,r=this.root;return t=Zs(this),e=this.node=cu(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),wu(this.node,"_ractive",{value:{proxy:this,keypath:sh(this.parentFragment),events:bu(null),root:r}}),this.attributes.forEach(function(t){return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=cy,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Ou):"style"===this.name?(this.bubble=hy,this.bubble(),this.fragment.unrender=Ou):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Ou:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Hs(this),"img"===this.name?Ns(this):"form"===this.name?Ds(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&dh.scheduleTask(function(){i.decorator.torndown||i.decorator.init()},!0),r.transitionsEnabled&&this.intro&&(n=new ly(this,this.intro,!0),dh.registerTransition(n),dh.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&dh.scheduleTask(function(){return i.node.focus()},!0),Ks(this),this.node}function Zs(t){var e,n,i;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?iu.svg:(i=t.parent)?"foreignObject"===i.name?iu.html:i.node.namespaceURI:t.root.el.namespaceURI}function Hs(t){var e,n,i;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&s(n)){for(i=n.length;i--;)if(e==n[i]){t.node.selected=!0;break}}else t.node.selected=e==n}function Ks(t){var e,n,i,r,s;e=t.root;do for(n=e._liveQueries,i=n.length;i--;)r=n[i],s=n["_"+r],s._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(s);while(e=e.parent)}function Gs(t){var e,n,i;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&s(n))for(i=n.length;i--;)if(n[i]==e)return!0}function Ys(t){var e,n,i,r;return e=t.attributes,n=e.type,i=e.value,r=e.name,n&&"radio"===n.value&&i&&r.interpolator&&i.value===r.interpolator.value?!0:void 0}function Js(t){var e=t.toString();return e?" "+e:""}function Xs(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Z),"option"===this.name&&Ps(this),this.attributes.forEach(Z),this.conditionalAttributes.forEach(Z)}function to(t){var e,n,i;(i=this.transition)&&i.complete(),"option"===this.name?this.detach():t&&dh.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(H),this.decorator&&dh.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(i=new ly(this,this.outro,!1),dh.registerTransition(i),dh.scheduleTask(function(){return i.start()})),this.liveQueries&&eo(this),"form"===this.name&&Is(this)}function eo(t){var e,n,i;for(i=t.liveQueries.length;i--;)e=t.liveQueries[i],n=e.selector,e._remove(t.node)}function no(t,e){var n=by.exec(e)[0];return null===t||n.length<t.length?n:t}function io(t,e,n){var i;if(i=ro(t,e,n||{}))return i;if(i=sp.fromId(e,{noThrow:!0})){i=wy(i);var r=sp.parse(i,sp.getParseOptions(t));return t.partials[e]=r.t}}function ro(t,e,n){var i=void 0,r=ao(e,n.owner);if(r)return r;var s=y("partials",t,e);if(s){if(r=s.partials[e],"function"==typeof r&&(i=r.bind(s),i.isOwner=s.partials.hasOwnProperty(e),r=i.call(t,sp)),!r&&""!==r)return void m(ju,e,"partial","partial",{ractive:t});if(!sp.isParsed(r)){var o=sp.parse(r,sp.getParseOptions(s));o.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=i?s:so(s,e);a.partials[e]=r=o.t}return i&&(r._fn=i),r.v?r.t:r}}function so(t,e){return t.partials.hasOwnProperty(e)?t:oo(t.constructor,e)}function oo(t,e){return t?t.partials.hasOwnProperty(e)?t:oo(t._Parent,e):void 0}function ao(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return ao(t,e.parentFragment.owner)}}function uo(t,e){var n,i=y("components",t,e);if(i&&(n=i.components[e],!n._Parent)){var r=n.bind(i);if(r.isOwner=i.components.hasOwnProperty(e),n=r(),!n)return void m(ju,e,"component","component",{ractive:t});"string"==typeof n&&(n=uo(t,n)),n._fn=r,i.components[e]=n}return n}function ho(){var t=this.instance.fragment.detach();return Fy.fire(this.instance),t}function co(t){return this.instance.fragment.find(t)}function lo(t,e){return this.instance.fragment.findAll(t,e)}function fo(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function po(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function mo(){return this.parentFragment.findNextNode(this)}function go(){return this.rendered?this.instance.fragment.firstNode():null}function vo(t,e,n){function i(t){var n,i;t.value=e,t.updating||(i=t.ractive,n=t.keypath,t.updating=!0,dh.start(i),i.viewmodel.mark(n),dh.end(),t.updating=!1)}var r,s,o,a,u,h;if(r=t.obj,s=t.prop,n&&!n.configurable){if("length"===s)return;throw new Error('Cannot use magic mode with property "'+s+'" - object is not configurable')}n&&(o=n.get,a=n.set),u=o||function(){return e},h=function(t){a&&a(t),e=o?o():t,h._ractiveWrappers.forEach(i)},h._ractiveWrappers=[t],Object.defineProperty(r,s,{get:u,set:h,enumerable:!0,configurable:!0})}function yo(t,e){var n,i,r,s;if(this.adaptors)for(n=this.adaptors.length,i=0;n>i;i+=1)if(r=this.adaptors[i],r.filter(e,t,this.ractive))return s=this.wrapped[t]=r.wrap(this.ractive,e,t,wo(t)),void(s.value=e)}function bo(t,e){var n,i={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(i[e+n]=t[n]);return i}function wo(t){var e;return eb[t]||(e=t?t+".":"",eb[t]=function(n,i){var r;return"string"==typeof n?(r={},r[e+n]=i,r):"object"==typeof n?e?bo(n,t):n:void 0}),eb[t]}function xo(t){var e,n,i=[$u];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)-1===t.indexOf(n)&&F(i,n),n=n.parent;return i}function ko(t,e,n){var i;_o(t,e),n||(i=e.wildcardMatches(),i.forEach(function(n){Eo(t,n,e)}))}function Eo(t,e,n){var i,r,s;e=e.str||e,i=t.depsMap.patternObservers,r=i&&i[e],r&&r.forEach(function(e){s=n.join(e.lastKey),_o(t,s),Eo(t,e,s)})}function _o(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function So(){function t(t){var i=t.key;t.viewmodel===o?(o.clearCache(i.str),t.invalidate(),n.push(i),e(i)):t.viewmodel.mark(i)}function e(n){var i,r;o.noCascade.hasOwnProperty(n.str)||((r=o.deps.computed[n.str])&&r.forEach(t),(i=o.depsMap.computed[n.str])&&i.forEach(e))}var n,i,r,s=this,o=this,a={};return n=this.changes,n.length?(n.slice().forEach(e),i=nb(n),i.forEach(function(e){var i;-1===n.indexOf(e)&&(i=o.deps.computed[e.str])&&i.forEach(t)}),this.changes=[],this.patternObservers.length&&(i.forEach(function(t){return ib(s,t,!0)}),n.forEach(function(t){return ib(s,t)})),this.deps.observers&&(i.forEach(function(t){return Ao(s,null,t,"observers")}),To(this,n,"observers")),this.deps.default&&(r=[],i.forEach(function(t){return Ao(s,r,t,"default")}),r.length&&Co(this,r,n),To(this,n,"default")),n.forEach(function(t){a[t.str]=s.get(t)}),this.implicitChanges={},this.noCascade={},a):void 0}function Ao(t,e,n,i){var r,s;(r=Oo(t,n,i))&&(s=t.get(n),r.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(s)}))}function Co(t,e,n){e.forEach(function(e){for(var i=!1,r=0,s=n.length,o=[];s>r;){var a=n[r];if(a===e.keypath){i=!0;break}a.slice(0,e.keypath.length)===e.keypath&&o.push(a),r++}i&&e.setValue(t.get(e.keypath)),o.length&&e.refineValue(o)})}function To(t,e,n){function i(t){t.forEach(r),t.forEach(s)}function r(e){var i=Oo(t,e,n);i&&a.push({keypath:e,deps:i})}function s(e){var r;(r=t.depsMap[n][e.str])&&i(r)}function o(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var a=[];i(e),a.forEach(o)}function Oo(t,e,n){var i=t.deps[n];return i?i[e.str]:null}function Po(){this.captureGroups.push([])}function Fo(t,e){var n,i;if(e||(i=this.wrapped[t])&&i.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function jo(t,e){var n=e.firstKey;return!(n in t.data||n in t.computations||n in t.mappings)}function Ro(t,e){var n=new cb(t,e);return this.ready&&n.init(this),this.computations[t.str]=n}function No(t,e){var n,i,r,s,o,a=this.cache,u=t.str;if(e=e||pb,e.capture&&(s=D(this.captureGroups))&&(~s.indexOf(t)||s.push(t)),Au.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,e);if(t.isSpecial)return t.value;if(void 0===a[u]?((i=this.computations[u])&&!i.bypass?(n=i.get(),this.adapt(u,n)):(r=this.wrapped[u])?n=r.value:t.isRoot?(this.adapt("",this.data),n=this.data):n=Do(this,t),a[u]=n):n=a[u],!e.noUnwrap&&(r=this.wrapped[u])&&(n=r.get()),t.isRoot&&e.fullRootGet)for(o in this.mappings)n[o]=this.mappings[o].getValue();return n===fb?void 0:n}function Do(t,e){var n,i,r,s;return n=t.get(e.parent),(s=t.wrapped[e.parent.str])&&(n=s.get()),null!==n&&void 0!==n?((i=t.cacheMap[e.parent.str])?-1===i.indexOf(e.str)&&i.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(r=n[e.lastKey],t.adapt(e.str,r,!1),t.cache[e.str]=r,r):t.cache[e.str]=fb):void 0}function Io(){var t;for(t in this.computations)this.computations[t].init(this)}function Lo(t,e){var n=this.mappings[t.str]=new vb(t,e);return n.initViewmodel(this),n}function Vo(t,e){var n,i=t.str;e&&(e.implicit&&(this.implicitChanges[i]=!0),e.noCascade&&(this.noCascade[i]=!0)),(n=this.computations[i])&&n.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var r=e?e.keepExistingWrapper:!1;this.clearCache(i,r),this.ready&&this.onchange()}function Mo(t,e,n,i){var r,s,o,a;if(this.mark(t),i&&i.compare){o=Wo(i.compare);try{r=e.map(o),s=n.map(o)}catch(i){m('merge(): "%s" comparison failed. Falling back to identity checking',t),r=e,s=n}}else r=e,s=n;a=bb(r,s),this.smartUpdate(t,n,a,e.length!==n.length)}function Uo(t){return JSON.stringify(t)}function Wo(t){if(t===!0)return Uo;if("string"==typeof t)return xb[t]||(xb[t]=function(e){return e[t]}),xb[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function zo(t,e){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,s):(i=this.deps[s]||(this.deps[s]={}),r=i[t.str]||(i[t.str]=[]),r.push(e),this.depsMap[s]||(this.depsMap[s]={}),t.isRoot||qo(this,t,s)))}function qo(t,e,n){for(var i,r,s;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str]||(i[e.parent.str]=[]),s=e.str,void 0===r["_"+s]&&(r["_"+s]=0,r.push(e)),r["_"+s]+=1,e=e.parent}function Bo(){return this.captureGroups.pop()}function $o(t){this.data=t,this.clearCache("")}function Qo(t,e){var n,i,r,s,o=void 0===arguments[2]?{}:arguments[2];if(!o.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(i=this.computations[t.str]){if(i.setting)return;i.set(e),e=i.get()}a(this.cache[t.str],e)||(r=this.wrapped[t.str],r&&r.reset&&(s=r.reset(e)!==!1,s&&(e=r.get())),i||s||Zo(this,t,e),o.silent?this.clearCache(t.str):this.mark(t))}function Zo(t,e,n){var i,r,s,o;s=function(){i.set?i.set(e.lastKey,n):(r=i.get(),o())},o=function(){r||(r=Ky(e.lastKey),t.set(e.parent,r,{silent:!0})),r[e.lastKey]=n},i=t.wrapped[e.parent.str],i?s():(r=t.get(e.parent),(i=t.wrapped[e.parent.str])?s():o())}function Ho(t,e,n){var i,r,s,o=this;if(r=n.length,n.forEach(function(e,n){-1===e&&o.mark(t.join(n),Tb)}),this.set(t,e,{silent:!0}),(i=this.deps.default[t.str])&&i.filter(Ko).forEach(function(t){return t.shuffle(n,e)}),r!==e.length){for(this.mark(t.join("length"),Cb),s=n.touchedFrom;s<e.length;s+=1)this.mark(t.join(s));for(s=e.length;r>s;s+=1)this.mark(t.join(s),Tb)}}function Ko(t){return"function"==typeof t.shuffle}function Go(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Yo(t,e){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,s);if(i=this.deps[s][t.str],r=i.indexOf(e),-1===r)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(r,1),t.isRoot||Jo(this,t,s)}}function Jo(t,e,n){for(var i,r;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str],r["_"+e.str]-=1,r["_"+e.str]||(I(r,e),r["_"+e.str]=void 0),e=e.parent}function Xo(t){this.hook=new th(t),this.inProcess={},this.queue={}}function ta(t,e){return t[e._guid]||(t[e._guid]=[])}function ea(t,e){var n=ta(t.queue,e);for(t.hook.fire(e);n.length;)ea(t,n.shift());delete t.queue[e._guid]}function na(t,e){var n,i={};for(n in e)i[n]=ia(t,n,e[n]);return i}function ia(t,e,n){var i,r;return"function"==typeof n&&(i=sa(n,t)),"string"==typeof n&&(i=ra(t,n)),"object"==typeof n&&("string"==typeof n.get?i=ra(t,n.get):"function"==typeof n.get?i=sa(n.get,t):l("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(r=sa(n.set,t))),{getter:i,setter:r}}function ra(t,e){var n,i,r;return n="return ("+e.replace(Db,function(t,e){return i=!0,'__ractive.get("'+e+'")'})+");",i&&(n="var __ractive = this; "+n),r=new Function(n),i?r.bind(t):r}function sa(t,e){return/this/.test(t.toString())?t.bind(e):t}function oa(e){var n,r,s=void 0===arguments[1]?{}:arguments[1],o=void 0===arguments[2]?{}:arguments[2];if(Bw.DEBUG&&Su(),ha(e,o),wu(e,"data",{get:ca}),Ib.fire(e,s),Ub.forEach(function(t){e[t]=i(bu(e.constructor[t]||null),s[t])}),r=new jb({adapt:aa(e,e.adapt,s),data:Mc.init(e.constructor,e,s),computed:Nb(e,i(bu(e.constructor.prototype.computed),s.computed)),mappings:o.mappings,ractive:e,onchange:function(){return dh.addRactive(e)}}),e.viewmodel=r,r.init(),vp.init(e.constructor,e,s),Lb.fire(e),Vb.begin(e),e.template){var a=void 0;(o.cssIds||e.cssId)&&(a=o.cssIds?o.cssIds.slice():[],e.cssId&&a.push(e.cssId)),e.fragment=new gw({template:e.template,root:e,owner:e,cssIds:a})}if(Vb.end(e),n=t(e.el)){var u=e.render(n,e.append);Bw.DEBUG_PROMISES&&u.catch(function(t){throw g("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:e}),t.stack&&f(t.stack),t})}}function aa(t,e,n){function i(e){return"string"==typeof e&&(e=v("adaptors",t,e),e||l(Ru(e,"adaptor"))),e}var r,s,o;if(e=e.map(i),r=N(n.adapt).map(i),r=ua(e,r),s="magic"in n?n.magic:t.magic,o="modifyArrays"in n?n.modifyArrays:t.modifyArrays,s){if(!nu)throw new Error("Getters and setters (magic mode) are not supported in this browser");o&&r.push(Xy),r.push(Jy)}return o&&r.push(Zy),r}function ua(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function ha(t,e){t._guid="r-"+Mb++,t._subs=bu(null),t._config={},t._twowayBindings=bu(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],t._observers=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function ca(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function la(t,e,n){this.parentFragment=t.parentFragment,this.callback=n,this.fragment=new gw({template:e,root:t.root,owner:this}),this.update()}function fa(t,e,n){var i;return e.r?i=Bp(t,e.r,n):e.x?i=new Hp(t,t.parentFragment,e.x,n):e.rx&&(i=new Jp(t,e.rx,n)),i}function da(t){return 1===t.length&&t[0].t===Qc}function pa(t,e){var n;for(n in e)e.hasOwnProperty(n)&&ma(t.instance,t.root,n,e[n])}function ma(t,e,n,i){"string"!=typeof i&&l("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Mh(e,i,{event:t,args:n}),!1})}function ga(t,e){var n,i;if(!e)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,i=n.root,this.root=i,this.type=il,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],qb(this,e,t.template.a,t.template.f,t.template.p),Bb(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),$b(this)}function va(t,e){function n(n){n.rebind(t,e)}var i;this.resolvers.forEach(n);for(var r in this.yielders)this.yielders[r][0]&&n(this.yielders[r][0]);(i=this.root._liveComponentQueries["_"+this.name])&&i._makeDirty()}function ya(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function ba(){return this.instance.fragment.toString()}function wa(){var t=this.instance;this.resolvers.forEach(Z),xa(this),t._observers.forEach(K),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&I(t.el.__ractive_instances__,t),Yb.fire(t)}function xa(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function ka(t){this.shouldDestroy=t,this.instance.unrender()}function Ea(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(n,i){return _a({parentFragment:e,pElement:t.pElement,template:n,index:i})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function _a(t){if("string"==typeof t.template)return new jp(t);switch(t.template.t){case rl:return new rw(t);case Qc:return new rm(t);case Hc:return new _m(t);case Zc:return new zm(t);case Yc:var e=void 0;return(e=Oy(t.parentFragment.root,t.template.e))?new tw(t,e):new vy(t);case Jc:return new Ty(t);case Xc:return new nw(t);case ol:return new ow(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Sa(t,e){(!this.owner||this.owner.hasContext)&&k(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function Aa(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function Ca(t){return this.items?this.items.map(t?Oa:Ta).join(""):""}function Ta(t){return t.toString()}function Oa(t){return t.toString(!0)}function Pa(){this.bound&&(this.items.forEach(Fa),this.bound=!1)}function Fa(t){t.unbind&&t.unbind()}function ja(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function Ra(t){var e,n,i,r,s;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),i=vp.reset(this),r=i.length;r--;)if(yw.indexOf(i[r])>-1){s=!0;break}if(s){var o=void 0;this.viewmodel.mark($u),(o=this.component)&&(o.shouldDestroy=!0),this.unrender(),o&&(o.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new gw({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)}else e=dh.start(this,!0),this.viewmodel.mark($u),dh.end();return bw.fire(this,t),e}function Na(t){var e,n;ap.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new gw({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function Da(t,e){var n,i;if(i=dh.start(this,!0),h(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],Ia(this,t,e))}else Ia(this,t,e);return dh.end(),i}function Ia(t,e,n){e=_(C(e)),e.isPattern?S(t,e).forEach(function(e){t.viewmodel.set(e,n)}):t.viewmodel.set(e,n)}function La(t,e){return Qu(this,t,void 0===e?-1:-e)}function Va(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(K),this.fragment.rendered&&this.el.__ractive_instances__&&I(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():rh.resolve(),Ow.fire(this),this._boundFunctions.forEach(Ma),t}function Ma(t){delete t.fn[t.prop]}function Ua(t){var e=this;if("string"!=typeof t)throw new TypeError(Fu);var n=void 0;return/\*/.test(t)?(n={},S(this,_(C(t))).forEach(function(t){n[t.str]=!e.viewmodel.get(t)}),this.set(n)):this.set(t,!this.get(t))}function Wa(){return this.fragment.toString(!0)}function za(){var t,e;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),rh.resolve();for(t=dh.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),I(this.el.__ractive_instances__,this),Rw.fire(this),dh.end(),t}function qa(t){var e;return t=_(t)||$u,e=dh.start(this,!0),this.viewmodel.mark(t),dh.end(),Iw.fire(this,t),e}function Ba(t,e){var n,i,r;if("string"!=typeof t||e){r=[];for(i in this._twowayBindings)(!t||_(i).equalsOrStartsWith(t))&&r.push.apply(r,this._twowayBindings[i])}else r=this._twowayBindings[t];return n=$a(this,r),this.set(n)}function $a(t,e){var n={},i=[];return e.forEach(function(t){var e,r;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(i[t.keypath.str]||t.changed()||(i.push(t.keypath),i[t.keypath.str]=t));e=t.attribute.value,r=t.getValue(),R(e,r)||a(e,r)||(n[t.keypath.str]=r)}}),i.length&&i.forEach(function(t){var e,r,s;e=i[t.str],r=e.attribute.value,s=e.getValue(),R(r,s)||(n[t.str]=s)}),n}function Qa(t,e){return"function"==typeof e&&/_super/.test(t)}function Za(t){for(var e={};t;)Ha(t,e),Ga(t,e),t=t._Parent!==Bw?t._Parent:!1;return e}function Ha(t,e){pp.forEach(function(n){Ka(n.useDefaults?t.prototype:t,e,n.name)})}function Ka(t,e,n){var i,r=Object.keys(t[n]);r.length&&((i=e[n])||(i=e[n]={}),r.filter(function(t){return!(t in i)}).forEach(function(e){return i[e]=t[n][e]}))}function Ga(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var i=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof i&&e[n]._method){var r=void 0,s=i._method;s&&(i=i._method),r=Mw(e[n]._method,i),s&&(r._method=r),e[n]=r}}else e[n]=i._method?i._method:i}})}function Ya(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(Ja,this):Ja(this)}function Ja(t){var e,n,r=void 0===arguments[1]?{}:arguments[1];return r.prototype instanceof Bw&&(r=Uw(r)),e=function(t){return this instanceof e?void Wb(this,t):new e(t)},n=bu(t.prototype),n.constructor=e,xu(e,{defaults:{value:n},extend:{value:Ya,writable:!0,configurable:!0},_Parent:{value:t}}),vp.extend(t,n,r),Mc.extend(t,n,r),r.computed&&(n.computed=i(bu(t.prototype.computed),r.computed)),e.prototype=n,e}var Xa,tu,eu,nu,iu,ru,su,ou=3,au={el:void 0,append:!1,template:{v:ou,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},uu=au,hu={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Xa="object"==typeof document,tu="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),eu="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),nu=!0}catch(t){nu=!1}iu={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ru="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),su=["o","ms","moz","webkit"];var cu,lu,fu,du,pu,mu,gu,vu,yu;if(cu=ru?function(t,e){return e&&e!==iu.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==iu.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Xa){for(fu=cu("div"),du=["matches","matchesSelector"],yu=function(t){return function(e,n){return e[t](n)}},gu=du.length;gu--&&!lu;)if(pu=du[gu],fu[pu])lu=yu(pu);else for(vu=su.length;vu--;)if(mu=su[gu]+pu.substr(0,1).toUpperCase()+pu.substring(1),fu[mu]){lu=yu(mu);break}lu||(lu=function(t,e){var n,i,r;for(i=t.parentNode,i||(fu.innerHTML="",i=fu,t=t.cloneNode(),fu.appendChild(t)),n=i.querySelectorAll(e),r=n.length;r--;)if(n[r]===t)return!0;return!1})}else lu=null;var bu,wu,xu,ku=null;try{Object.defineProperty({},"test",{value:0}),Xa&&Object.defineProperty(document.createElement("div"),"test",{value:0}),wu=Object.defineProperty}catch(t){wu=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(t){throw t}Xa&&Object.defineProperties(cu("div"),{test:{value:0}}),xu=Object.defineProperties}catch(t){xu=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&wu(t,n,e[n])}}try{Object.create(null),bu=Object.create}catch(t){bu=function(){var t=function(){};return function(e,n){var i;return null===e?{}:(t.prototype=e,i=new t,n&&Object.defineProperties(i,n),i)}}()}var Eu,_u,Su,Au=Object.prototype.hasOwnProperty,Cu=Object.prototype.toString,Tu=/^\[object (?:Array|FileList)\]$/,Ou=function(){},Pu={};eu?!function(){var t=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],e="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Su=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,t),console.log(e),n&&console.groupEnd(t),Su=Ou},_u=function(t,e){if(Su(),"object"==typeof e[e.length-1]){var n=e.pop(),i=n?n.ractive:null;if(i){var r=void 0;i.component&&(r=i.component.name)&&(t="<"+r+"> "+t);var s=void 0;(s=n.node||i.fragment&&i.fragment.rendered&&i.find("*"))&&e.push(s)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},Eu=function(){console.log.apply(console,arguments)}}():_u=Eu=Su=Ou;var Fu="Bad arguments",ju='A function was specified for "%s" %s, but no %s was returned',Ru=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Nu=function(t,e,n,i){if(t===e)return b(e);if(i){var r=v("interpolators",n,i);if(r)return r(t,e)||b(e);l(Ru(i,"interpolator"))}return Lu.number(t,e)||Lu.array(t,e)||Lu.object(t,e)||b(e)},Du=Nu,Iu={number:function(t,e){var n;return u(t)&&u(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,i,r,o;if(!s(t)||!s(e))return null;for(n=[],i=[],o=r=Math.min(t.length,e.length);o--;)i[o]=Du(t[o],e[o]);for(o=r;o<t.length;o+=1)n[o]=t[o];for(o=r;o<e.length;o+=1)n[o]=e[o];return function(t){for(var e=r;e--;)n[e]=i[e](t);return n}},object:function(t,e){var n,i,r,s,o;if(!h(t)||!h(e))return null;n=[],s={},r={};for(o in t)Au.call(t,o)&&(Au.call(e,o)?(n.push(o),r[o]=Du(t[o],e[o])):s[o]=t[o]);for(o in e)Au.call(e,o)&&!Au.call(t,o)&&(s[o]=e[o]);return i=n.length,function(t){for(var e,o=i;o--;)e=n[o],s[e]=r[e](t);return s}}},Lu=Iu,Vu=w,Mu={},Uu=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Wu=/\*/,zu={},qu=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=E(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.isPattern=Wu.test(t),this.parent=""===t?null:_(e.join(".")),this.isRoot=!t};qu.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return _(this.isRoot?String(t):this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:_(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Vu(this.str))}};var Bu,$u=_(""),Qu=T,Zu="Cannot add to a non-numeric value",Hu=O;"undefined"==typeof window?Bu=null:(!function(t,e,n){var i,r;if(!n.requestAnimationFrame){for(i=0;i<t.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[t[i]+"RequestAnimationFrame"];n.requestAnimationFrame||(r=n.setTimeout,n.requestAnimationFrame=function(t){var n,i,s;return n=Date.now(),i=Math.max(0,16-(n-e)),s=r(function(){t(n+i)},i),e=n+i,s})}}(su,0,window),Bu=window.requestAnimationFrame);var Ku,Gu=Bu;Ku="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Yu=Ku,Ju={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};
P.prototype.fire=function(t,e){function n(n){return t[n]?(e?t[n](e):t[n](),!0):void 0}n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var Xu,th=P,eh={},nh={},ih={};"function"==typeof Promise?Xu=Promise:(Xu=function(t){var e,n,i,r,s,o,a=[],u=[],h=eh;i=function(t){return function(i){h===eh&&(e=i,h=t,n=M(h===nh?a:u,e),V(n))}},r=i(nh),s=i(ih);try{t(r,s)}catch(t){s(t)}return o={then:function(t,e){var i=new Xu(function(r,s){var o=function(t,e,n){e.push("function"==typeof t?function(e){var n;try{n=t(e),U(i,n,r,s)}catch(t){s(t)}}:n)};o(t,a,r),o(e,u,s),h!==eh&&V(n)});return i}},o.catch=function(t){return this.then(null,t)},o},Xu.all=function(t){return new Xu(function(e,n){var i,r,s,o=[];if(!t.length)return void e(o);for(s=function(t,r){t&&"function"==typeof t.then?t.then(function(t){o[r]=t,--i||e(o)},n):(o[r]=t,--i||e(o))},i=r=t.length;r--;)s(t[r],r)})},Xu.resolve=function(t){return new Xu(function(e){e(t)})},Xu.reject=function(t){return new Xu(function(e,n){n(t)})});var rh=Xu,sh=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return $u},oh=W,ah=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};ah.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,J(this)},decrementTotal:function(){this.totalChildren-=1,J(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;I(e,t),J(this)},init:function(){this.ready=!0,J(this)},detachNodes:function(){this.decoratorQueue.forEach(Q),this.detachQueue.forEach(G),this.children.forEach(Y)}};var uh,hh,ch=ah,lh=[],fh=new th("change");hh={start:function(t,e){var n,i;return e&&(n=new rh(function(t){return i=t})),uh={previousBatch:uh,transitionManager:new ch(i,uh&&uh.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&uh.ractives.push(t),n},end:function(){X(),uh.transitionManager.init(),!uh.previousBatch&&uh.instance&&(uh.instance.viewmodel.changes=[]),uh=uh.previousBatch},addRactive:function(t){uh&&F(uh.ractives,t)},registerTransition:function(t){t._manager=uh.transitionManager,uh.transitionManager.add(t)},registerDecorator:function(t){uh.transitionManager.addDecorator(t)},addView:function(t){uh.views.push(t)},addUnresolved:function(t){lh.push(t)},removeUnresolved:function(t){I(lh,t)},detachWhenReady:function(t){uh.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(uh){for(n=uh;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var dh=hh,ph=[],mh={tick:function(){var t,e,n;for(n=Yu(),dh.start(),t=0;t<ph.length;t+=1)e=ph[t],e.tick(n)||ph.splice(t--,1);dh.end(),ph.length?Gu(mh.tick):mh.running=!1},add:function(t){ph.push(t),mh.running||(mh.running=!0,Gu(mh.tick))},abort:function(t,e){for(var n,i=ph.length;i--;)n=ph[i],n.root===e&&n.keypath===t&&n.stop()}},gh=mh,vh=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=Du(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};vh.prototype={tick:function(){var t,e,n,i,r,s;return s=this.keypath,this.running?(i=Date.now(),t=i-this.startTime,t>=this.duration?(null!==s&&(dh.start(this.root),this.root.viewmodel.set(s,this.to),dh.end()),this.step&&this.step(1,this.to),this.complete(this.to),r=this.root._animations.indexOf(this),-1===r&&m("Animation was not found"),this.root._animations.splice(r,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,null!==s&&(n=this.interpolator(e),dh.start(this.root),this.root.viewmodel.set(s,n),dh.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&m("Animation was not found"),this.root._animations.splice(t,1)}};var yh=vh,bh=ne,wh={stop:Ou},xh=re,kh=new th("detach"),Eh=se,_h=oe,Sh=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},Ah=function(t,e){var n,i,r,s,o,a,u,h,c,l;for(n=ue(t.component||t._ractive.proxy),i=ue(e.component||e._ractive.proxy),r=D(n),s=D(i);r&&r===s;)n.pop(),i.pop(),o=r,r=D(n),s=D(i);if(r=r.component||r,s=s.component||s,c=r.parentFragment,l=s.parentFragment,c===l)return a=c.items.indexOf(r),u=l.items.indexOf(s),a-u||n.length-i.length;if(h=o.fragments)return a=h.indexOf(c),u=h.indexOf(l),a-u||n.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Ch=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):Ah(t,e)},Th=function(){this.sort(this._isComponentQuery?Ah:Ch),this._dirty=!1},Oh=function(){var t=this;this._dirty||(this._dirty=!0,dh.scheduleTask(function(){t._sort()}))},Ph=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},Fh=he,jh=ce,Rh=le,Nh=fe,Dh=de,Ih=pe,Lh={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},Vh=Lh,Mh=me,Uh=ye,Wh=be,zh={capture:!0,noUnwrap:!0,fullRootGet:!0},qh=we,Bh=new th("insert"),$h=ke,Qh=function(t,e,n,i){this.root=t,this.keypath=e,this.callback=n,this.defer=i.defer,this.context=i&&i.context?i.context:t};Qh.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;a(t,this.value)||(this.value=t,this.defer&&this.ready?dh.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Zh,Hh=Qh,Kh=Ee,Gh=Array.prototype.slice;Zh=function(t,e,n,i){this.root=t,this.callback=n,this.defer=i.defer,this.keypath=e,this.regex=new RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=i&&i.context?i.context:t},Zh.prototype={init:function(t){var e,n;if(e=Kh(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(_(n));else this.values=e},update:function(t){var e,n=this;if(t.isPattern){e=Kh(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(_(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void dh.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,i,r;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,a(n,this.values[e])&&this.ready||(i=Gh.call(this.regex.exec(e),1),r=[n,this.values[e],e].concat(i),this.values[e]=n,this.callback.apply(this.context,r)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return e.reallyUpdate(t)}}),this.proxies[t.str]}};var Yh,Jh,Xh,tc,ec,nc,ic=Zh,rc=_e,sc={},oc=Se,ac=Ae,uc=function(t){return t.trim()},hc=function(t){return""!==t},cc=Ce,lc=Te,fc=Oe,dc=Pe,pc=Array.prototype,mc=function(t){return function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];var o,a,u,h,c=[];if(e=_(C(e)),o=this.viewmodel.get(e),a=o.length,!s(o))throw new Error("Called ractive."+t+"('"+e.str+"'), but '"+e.str+"' does not refer to an array");return c=dc(o,t,i),h=pc[t].apply(o,i),u=dh.start(this,!0).then(function(){return h}),c?this.viewmodel.smartUpdate(e,o,c):this.viewmodel.mark(e),dh.end(),u}},gc=mc("pop"),vc=mc("push"),yc="/* Ractive.js component styles */\n",bc=[],wc=!1;Xa?(Xh=document.createElement("style"),Xh.type="text/css",tc=document.getElementsByTagName("head")[0],nc=!1,ec=Xh.styleSheet,Jh=function(){var t=yc+bc.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");ec?ec.cssText=t:Xh.innerHTML=t,nc||(tc.appendChild(Xh),nc=!0)},Yh={add:function(t){bc.push(t),wc=!0},apply:function(){wc&&(Jh(),wc=!1)}}):Yh={add:Ou,apply:Ou};var xc,kc,Ec=Yh,_c=je,Sc=new th("render"),Ac=new th("complete"),Cc={extend:function(t,e,n){e.adapt=Ne(e.adapt,N(n.adapt))},init:function(){}},Tc=Cc,Oc=De,Pc=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Fc=/\/\*.*?\*\//g,jc=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Rc=/^@media/,Nc=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Dc=1,Ic={name:"css",extend:function(t,e,n){if(n.css){var i=Dc++,r=n.noCssTransform?n.css:Oc(n.css,i);e.cssId=i,Ec.add({id:i,styles:r})}},init:function(){}},Lc=Ic,Vc={name:"data",extend:function(t,e,n){var i=void 0,r=void 0;if(n.data&&h(n.data))for(i in n.data)r=n.data[i],r&&"object"==typeof r&&(h(r)||s(r))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Me(e.data,n.data)},init:function(t,e,n){var i=Me(t.prototype.data,n.data);return"function"==typeof i&&(i=i.call(e)),i||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(e),!0}},Mc=Vc,Uc=/^\s+/;kc=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(t){this.stack=t.stack}},kc.prototype=Error.prototype,xc=function(t,e){var n,i,r=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=r+t.length+1;return r=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(i=this.read());)n.push(i);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},xc.prototype={read:function(t){var e,n,i,r;for(t||(t=this.converters),e=this.pos,i=t.length,n=0;i>n;n+=1)if(this.pos=e,r=t[n](this))return r;return null},getLinePos:function(t){for(var e,n=0,i=0;t>=this.lineEnds[n];)i=this.lineEnds[n],n+=1;return e=t-i,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],i=e[1],r=this.lines[e[0]-1],s=0,o=r.replace(/\t/g,function(t,n){return n<e[1]&&(s+=1),"  "})+"\n"+new Array(e[1]+s).join(" ")+"^----",a=new kc(""+t+" at line "+n+" character "+i+":\n"+o);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(Uc)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},xc.extend=function(t){var e,n,i=this;e=function(t,e){xc.call(this,t,e)},e.prototype=bu(i.prototype);for(n in t)Au.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=xc.extend,e};var Wc,zc,qc,Bc=xc,$c=1,Qc=2,Zc=3,Hc=4,Kc=5,Gc=6,Yc=7,Jc=8,Xc=9,tl=10,el=13,nl=14,il=15,rl=16,sl=17,ol=18,al=20,ul=21,hl=22,cl=23,ll=24,fl=25,dl=26,pl=27,ml=30,gl=31,vl=32,yl=33,bl=34,wl=35,xl=36,kl=40,El=50,_l=51,Sl=52,Al=53,Cl=54,Tl=60,Ol=61,Pl=ze,Fl=/^[^\s=]+/,jl=/^\s+/,Rl=qe,Nl=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Dl=Be,Il={t:tl,exclude:!0},Ll="Expected a JavaScript expression",Vl="Expected closing paren",Ml=Qe,Ul=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Wl=Ze;Wc=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,zc=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,qc=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var zl,ql,Bl=function(t){return function(e){var n,i,r,s;for(n=e.pos,i='"',r=!1;!r;)s=e.matchPattern(Wc)||e.matchPattern(zc)||e.matchString(t),s?i+='"'===s?'\\"':"\\'"===s?"'":s:(s=e.matchPattern(qc),s?i+="\\u"+("000"+s.charCodeAt(1).toString(16)).slice(-4):r=!0);return i+='"',JSON.parse(i)}},$l=Bl('"'),Ql=Bl("'"),Zl=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=Ql(t),t.matchString('"')?{t:ul,v:n}:(t.pos=e,null)):t.matchString("'")?(n=$l(t),t.matchString("'")?{t:ul,v:n}:(t.pos=e,null)):null},Hl=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Kl=He,Gl=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Yl=Ke,Jl=Ge,Xl=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=Jl(t),t.allowWhitespace(),t.matchString("}")?{t:cl,m:n}:(t.pos=e,null)):(t.pos=e,null)},tf=Ye,ef=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=tf(t),t.matchString("]")?{t:hl,m:n}:(t.pos=e,null)):(t.pos=e,null)},nf=Je,rf=Xe,sf=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;zl=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,ql=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var of,af,uf=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,hf=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,cf=tn,lf=function(t){return nf(t)||rf(t)||cf(t)},ff=en,df=function(t){var e,n,i,r;if(n=lf(t),!n)return null;for(;n;)if(e=t.pos,i=ff(t))n={t:vl,x:n,r:i};else{if(!t.matchString("("))break;t.allowWhitespace(),r=tf(t),t.allowWhitespace(),t.matchString(")")||t.error(Vl),n={t:kl,x:n},r&&(n.o=r)}return n};af=function(t,e){return function(n){var i;return(i=e(n))?i:n.matchString(t)?(n.allowWhitespace(),i=Cf(n),i||n.error(Ll),{s:t,o:i,t:yl}):null}},function(){var t,e,n,i,r;for(i="! ~ + - typeof".split(" "),r=df,t=0,e=i.length;e>t;t+=1)n=af(i[t],r),r=n;of=r}();var pf,mf,gf=of;mf=function(t,e){return function(n){var i,r,s;if(r=e(n),!r)return null;for(;;){if(i=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=i,r;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=i,r;if(n.allowWhitespace(),s=e(n),!s)return n.pos=i,r;r={t:xl,s:t,o:[r,s]}}}},function(){var t,e,n,i,r;for(i="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=gf,t=0,e=i.length;e>t;t+=1)n=mf(i[t],r),r=n;pf=r}();var vf,yf,bf,wf,xf,kf,Ef,_f,Sf=pf,Af=nn,Cf=rn,Tf=sn,Of=an,Pf=/^[0-9][1-9]*$/,Ff=hn,jf=cn,Rf=ln,Nf=fn,Df=dn,If=pn,Lf=mn,Vf=/^yield\s*/,Mf=gn,Uf=vn,Wf=/^\s*else\s*/,zf=yn,qf=/^\s*elseif\s+/,Bf={each:Sl,if:El,"if-with":Cl,with:Al,unless:_l},$f=bn,Qf=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Zf=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Hf=new RegExp("^("+Object.keys(Bf).join("|")+")\\b"),Kf=_n,Gf="<!--",Yf="-->";vf=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,yf=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,bf={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},wf=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],xf=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(bf).join("|")+"));?","g"),kf=/</g,Ef=/>/g,_f=/&/g;var Jf,Xf,td,ed,nd,id,rd,sd=/^\s*\r?\n/,od=/\r?\n\s*$/,ad=function(t){var e,n,i,r,s;for(e=1;e<t.length;e+=1)n=t[e],i=t[e-1],r=t[e-2],Tn(n)&&On(i)&&Tn(r)&&od.test(r)&&sd.test(n)&&(t[e-2]=r.replace(od,"\n"),t[e]=n.replace(sd,"")),Pn(n)&&Tn(i)&&od.test(i)&&Tn(n.f[0])&&sd.test(n.f[0])&&(t[e-1]=i.replace(od,"\n"),n.f[0]=n.f[0].replace(sd,"")),Tn(n)&&Pn(i)&&(s=D(i.f),Tn(s)&&od.test(s)&&sd.test(n)&&(i.f[i.f.length-1]=s.replace(od,"\n"),t[e]=n.replace(sd,"")));return t},ud=function(t,e,n){var i;e&&(i=t[0],"string"==typeof i&&(i=i.replace(e,""),i?t[0]=i:t.shift())),n&&(i=D(t),"string"==typeof i&&(i=i.replace(n,""),i?t[t.length-1]=i:t.pop()))},hd=Fn,cd=/[ \t\f\r\n]+/g,ld=/^(?:pre|script|style|textarea)$/i,fd=/^[ \t\f\r\n]+/,dd=/[ \t\f\r\n]+$/,pd=/^(?:\r\n|\r|\n)/,md=/(?:\r\n|\r|\n)$/,gd=jn,vd=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,yd=function(t,e){var n,i,r;for(n=e.length;n--;){if(i=t.indexOf(e[n]),!i)return 0;-1!==i&&(!r||r>i)&&(r=i)}return r||-1},bd=Rn,wd=/^[^\s"'>\/=]+/,xd=/^[^\s"'=<>`]+/;Xf={true:!0,false:!1,undefined:void 0,null:null},td=new RegExp("^(?:"+Object.keys(Xf).join("|")+")"),ed=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,nd=/\$\{([^\}]+)\}/g,id=/^\$\{([^\}]+)\}/,rd=/^\s*$/,Jf=Bc.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&rd.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(id),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(td))?{v:Xf[e]}:void 0},function(t){var e;return(e=t.matchPattern(ed))?{v:+e}:void 0},function(t){var e,n=Zl(t);return n&&(e=t.values)?{v:n.v.replace(nd,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=Mn(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var kd,Ed=function(t,e){var n=new Jf(t,{values:e});return n.result},_d=Un,Sd=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Ad=/\)\s*$/;kd=Bc.extend({converters:[Cf]});var Cd,Td=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Od=/^[\s\n\/>]/,Pd=/^on/,Fd=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,jd=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Rd={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Nd={exclude:!0};Cd={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Dd,Id=Wn,Ld=qn,Vd=Bn,Md=/[-\/\\^$*+?.()|[\]{}]/g,Ud=$n,Wd=/^<!--\s*/,zd=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,qd=/\s*-->/,Bd=Qn,$d=/^#\s*partial\s+/,Qd=Zn,Zd=Hn,Hd=[Rf,jf,$f,Lf,If,Nf],Kd=[Ff],Gd=[jf,$f,If],Yd=void 0,Jd=[Dl,Kf,Id,Ld],Xd=[Ud,Bd];Yd=Bc.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],i=e.staticDelimiters||["[[","]]"],r=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Hd},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Kd},{isStatic:!0,isTriple:!1,open:i[0],close:i[1],readers:Gd},{isStatic:!0,isTriple:!0,open:r[0],close:r[1],readers:Kd}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),hd(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:ou}},converters:[Qd],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var tp,ep,np,ip=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],rp={fromId:Yn,isHashedId:Jn,isParsed:Xn,getParseOptions:ti,createHelper:Kn,parse:Gn},sp=rp,op={name:"template",extend:function(t,e,n){var i;"template"in n&&(i=n.template,e.template="function"==typeof i?i:ri(i,e))},init:function(t,e,n){var i,r;i="template"in n?n.template:t.prototype.template,"function"==typeof i&&(r=i,i=ni(e,r),e._config.template={fn:r,result:i}),i=ri(i,e),e.template=i.t,i.p&&si(e.partials,i.p)},reset:function(t){var e,n=ei(t);return n?(e=ri(n,t),t.template=e.t,si(t.partials,e.p,!0),!0):void 0}},ap=op;tp=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],ep=function(t,e){this.name=t,this.useDefaults=e},ep.prototype={constructor:ep,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var i,r=this.name,s=n[r];i=bu(t[r]);for(var o in s)i[o]=s[o];e[r]=i},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var i=e[t];i._fn&&(i._fn.isOwner?e[t]=i._fn:delete e[t],n=!0)}),n}},np=tp.map(function(t){return new ep(t,"computed"===t)});var up,hp,cp,lp,fp,dp,pp=np,mp=oi,gp=ci;lp={adapt:Tc,css:Lc,data:Mc,template:ap},cp=Object.keys(uu),dp=di(cp.filter(function(t){return!lp[t]})),fp=di(cp.concat(pp.map(function(t){return t.name}))),hp=[].concat(cp.filter(function(t){return!pp[t]&&!lp[t]}),pp,lp.data,lp.template,lp.css),up={extend:function(t,e,n){return li("extend",t,e,n)},init:function(t,e,n){return li("init",t,e,n)},reset:function(t){return hp.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:hp};var vp=up,yp=pi,bp=mi,wp=gi,xp=vi,kp=yi,Ep=bi,_p=wi,Sp=xi,Ap=ki,Cp=Ei,Tp=_i,Op=Si,Pp=function(){return e(this.node)},Fp=function(t){this.type=$c,this.text=t.template};Fp.prototype={detach:Pp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?Cn(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var jp=Fp,Rp=Ai,Np=Ci,Dp=function(t,e,n){var i;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,i=oh(t.root,e,t.parentFragment),void 0!=i?this.resolve(i):dh.addUnresolved(this)};Dp.prototype={resolve:function(t){this.keypath&&!t&&dh.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(_(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||dh.removeUnresolved(this)}};var Ip=Dp,Lp=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},Vp={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Lp.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,i=Vp[e];if(!i)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(_("@"+i.prefix+Ti(this.cached,i)));if(-1!==i.prop.indexOf("index")||-1!==i.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Sl&&void 0!==(t=Ti(n,i)))return this.cached=n,n.registerIndexRef(this),this.callback(_("@"+i.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=Ti(n,i)))return this.callback(_("@"+i.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Mp=Lp,Up=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};Up.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(_("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Wp=Up,zp=Oi;Oi.resolve=function(t){var e,n,i={};for(e in t.refs)n=t.refs[e],i[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return i};var qp,Bp=Pi,$p=Fi,Qp={},Zp=Function.prototype.bind;qp=function(t,e,n,i){var r,s=this;r=t.root,this.root=r,this.parentFragment=e,this.callback=i,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return Bp(s,t,function(t){s.resolve(e,t)})}),this.ready=!0,this.bubble()},qp.prototype={bubble:function(){this.ready&&(this.uniqueString=Ri(this.str,this.keypaths),this.keypath=Ni(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,i,r,s=this;i=this.keypath,t=this.root.viewmodel.computations[i.str],t?this.root.viewmodel.mark(i):(r=$p(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){return void 0}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=s.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof e&&(e=Ii(e,s.root)),e}}),n={deps:this.keypaths.filter(Di),getter:function(){var t=e.map(ji);return r.apply(null,t)}},t=this.root.viewmodel.compute(i,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Hp=qp,Kp=function(t,e,n){var i=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===ml?this.refResolver=Bp(this,t.n,function(t){i.resolve(t)}):new Hp(e,n,t,function(t){i.resolve(t)})};Kp.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Gp=Kp,Yp=function(t,e,n){var i,r,s,o,a=this;this.parentFragment=o=t.parentFragment,this.root=i=t.root,this.mustache=t,this.ref=r=e.r,this.callback=n,this.unresolved=[],(s=oh(i,r,o))?this.base=s:this.baseResolver=new Ip(this,r,function(t){a.base=t,a.baseResolver=null,a.bubble()}),this.members=e.m.map(function(t){return new Gp(t,a,o)}),this.ready=!0,this.bubble()};Yp.prototype={getKeypath:function(){var t=this.members.map(Li);return!t.every(Vi)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Z)},rebind:function(t,e){var n;if(this.base){var i=this.base.replace(t,e);i&&i!==this.base&&(this.base=i,n=!0)}this.members.forEach(function(i){i.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=_(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Mi),this.bubble()}};var Jp=Yp,Xp=Ui,tm=Wi,em=zi,nm={getValue:Np,init:Xp,resolve:tm,rebind:em},im=function(t){this.type=Qc,nm.init(this,t)};im.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:nm.resolve,rebind:nm.rebind,detach:Pp,unbind:Rp,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(t){t&&e(this.node)},getValue:nm.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),a(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&dh.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=""+n(this.value);return t?Cn(e):e}};var rm=im,sm=qi,om=Bi,am=$i,um=Qi,hm=Zi,cm=Hi,lm=Ki,fm=Gi,dm=Yi,pm=function(t,e){nm.rebind.call(this,t,e)},mm=Xi,gm=tr,vm=lr,ym=fr,bm=dr,wm=gr,xm=function(t){this.type=Hc,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===_l,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,nm.init(this,t)};xm.prototype={bubble:sm,detach:om,find:am,findAll:um,findAllComponents:hm,findComponent:cm,findNextNode:lm,firstNode:fm,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];
if(n.n===t)return n}},getValue:nm.getValue,shuffle:dm,rebind:pm,render:mm,resolve:nm.resolve,setValue:gm,toString:vm,unbind:ym,unrender:bm,update:wm};var km,Em,_m=xm,Sm=vr,Am=yr,Cm=br,Tm=wr,Om={};try{cu("table").innerHTML="foo"}catch(t){km=!0,Em={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Pm=function(t,e,n){var i,r,s,o,a,u=[];if(null!=t&&""!==t){for(km&&(r=Em[e.tagName])?(i=xr("DIV"),i.innerHTML=r[0]+t+r[1],i=i.querySelector(".x"),"SELECT"===i.tagName&&(s=i.options[i.selectedIndex])):e.namespaceURI===iu.svg?(i=xr("DIV"),i.innerHTML='<svg class="x">'+t+"</svg>",i=i.querySelector(".x")):(i=xr(e.tagName),i.innerHTML=t,"SELECT"===i.tagName&&(s=i.options[i.selectedIndex]));o=i.firstChild;)u.push(o),n.appendChild(o);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==s&&(u[a].selected=!1)}return u},Fm=kr,jm=_r,Rm=Sr,Nm=Ar,Dm=Cr,Im=Tr,Lm=function(t){this.type=Zc,nm.init(this,t)};Lm.prototype={detach:Sm,find:Am,findAll:Cm,firstNode:Tm,getValue:nm.getValue,rebind:nm.rebind,render:jm,resolve:nm.resolve,setValue:Rm,toString:Nm,unbind:Rp,unrender:Dm,update:Im};var Vm,Mm,Um,Wm,zm=Lm,qm=function(){this.parentFragment.bubble()},Bm=Or,$m=function(t){return this.node?lu(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Qm=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Zm=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Hm=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Km=Pr,Gm=Fr,Ym=jr,Jm=/^true|on|yes|1$/i,Xm=/^[0-9]+$/,tg=function(t,e){var n,i,r;return r=e.a||{},i={},n=r.twoway,void 0!==n&&(i.twoway=0===n||Jm.test(n)),n=r.lazy,void 0!==n&&(i.lazy=0!==n&&Xm.test(n)?parseInt(n):0===n||Jm.test(n)),i},eg=Rr;Vm="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Mm="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Um=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},Wm=Um(Vm.concat(Mm));var ng=function(t){var e=t.toLowerCase();return Wm[e]||e},ig=function(t,e){var n,i;if(n=e.indexOf(":"),-1===n||(i=e.substr(0,n),"xmlns"===i))t.name=t.element.namespace!==iu.html?ng(e):e;else if(e=e.substring(n+1),t.name=ng(e),t.namespace=iu[i.toLowerCase()],t.namespacePrefix=i,!t.namespace)throw'Unknown namespace ("'+i+'")'},rg=Nr,sg=Dr,og=Ir,ag=Lr,ug={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor",class:"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName",for:"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},hg=Vr,cg=Ur,lg=Wr,fg=zr,dg=qr,pg=Br,mg=$r,gg=Qr,vg=Zr,yg=Hr,bg=Kr,wg=Gr,xg=Yr,kg=Jr,Eg=Xr,_g=function(t){this.init(t)};_g.prototype={bubble:eg,init:sg,rebind:og,render:ag,toString:hg,unbind:cg,update:Eg};var Sg,Ag=_g,Cg=function(t,e){var n,i,r=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(i=new Ag({element:t,name:n,value:e[n],root:t.root}),r[n]=i,"value"!==n&&r.push(i));return(i=r.value)&&r.push(i),r};"undefined"!=typeof document&&(Sg=cu("div"));var Tg=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new gw({root:t.root,owner:this,template:[e]})};Tg.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===iu.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment.toString(),e=ts(t,this.isSvg),this.attributes.filter(function(t){return es(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment.toString()}};var Og=Tg,Pg=function(t,e){return e?e.map(function(e){return new Og(t,e)}):[]},Fg=function(t){var e,n,i,r;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return g("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(n.isSpecial)return g("Two-way binding does not work with %s",e.resolver.ref,{ractive:this.root}),!1}else{var s=e.template.r?"'"+e.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",s,{ractive:this.root}),e.resolver.forceResolution(),n=e.keypath}this.attribute.isTwoway=!0,this.keypath=n,i=this.root.viewmodel.get(n),void 0===i&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(n,i)),(r=ns(t))&&(this.resetValue=i,r.formBindings.push(this))};Fg.prototype={handleChange:function(){var t=this;dh.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),dh.scheduleTask(function(){return t.attribute.locked=!1}),dh.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(I(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},Fg.extend=function(t){var e,n=this;return e=function(t){Fg.call(this,t),this.init&&this.init()},e.prototype=bu(n.prototype),i(e.prototype,t),e.extend=Fg.extend,e};var jg,Rg=Fg,Ng=is;jg=Rg.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:u(this.element.lazy)?(t=!1,n=+this.element.lazy):u(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?ss:Ng,e.addEventListener("change",Ng,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",rs,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",Ng,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",rs,!1)}});var Dg=jg,Ig=Dg.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),Lg=Ig,Vg=os,Mg={},Ug=Rg.extend({name:"checked",init:function(){this.siblings=Vg(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",Ng,!1),t.attachEvent&&t.addEventListener("click",Ng,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Ng,!1),t.removeEventListener("click",Ng,!1)},handleChange:function(){dh.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),dh.end()},getValue:function(){return this.element.node.checked},unbind:function(){I(this.siblings,this)}}),Wg=Ug,zg=Rg.extend({name:"name",init:function(){this.siblings=Vg(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",Ng,!1),t.attachEvent&&t.addEventListener("click",Ng,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Ng,!1),t.removeEventListener("click",Ng,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&Rg.prototype.handleChange.call(this)},rebound:function(t,e){var n;Rg.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){I(this.siblings,this)}}),qg=zg,Bg=Rg.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=Vg(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){I(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),this.isChecked=s(t)?j(t,e):t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Ng,!1),n.attachEvent&&n.addEventListener("click",Ng,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Ng,!1),t.removeEventListener("click",Ng,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,Rg.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(as).map(us)}}),$g=Bg,Qg=Rg.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",Ng,!1),t.attachEvent&&t.addEventListener("click",Ng,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Ng,!1),t.removeEventListener("click",Ng,!1)},getValue:function(){return this.element.node.checked}}),Zg=Qg,Hg=Rg.extend({getInitialValue:function(){var t,e,n,i,r=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=r.length,t)){for(;e--;)if(r[e].getAttribute("selected")){n=r[e].getAttribute("value"),i=!0;break}if(!i)for(;++e<t;)if(!r[e].getAttribute("disabled")){n=r[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Ng,!1)},unrender:function(){this.element.node.removeEventListener("change",Ng,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,i,r;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(i=t[e],t[e].selected)return r=i._ractive?i._ractive.value:i.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,dh.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),Kg=Hg,Gg=Kg.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",Ng,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Ng,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,i,r,s;for(t=[],e=this.element.node.options,i=e.length,n=0;i>n;n+=1)r=e[n],r.selected&&(s=r._ractive?r._ractive.value:r.value,t.push(s));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&R(n,e)||Kg.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,dh.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Yg=Gg,Jg=Rg.extend({render:function(){this.element.node.addEventListener("change",Ng,!1)},unrender:function(){this.element.node.removeEventListener("change",Ng,!1)},getValue:function(){return this.element.node.files}}),Xg=Jg,tv=Dg.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),ev=hs,nv=ls,iv=fs,rv=ds,sv=ps,ov=/^event(?:\.(.+))?/,av=ys,uv=bs,hv={},cv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},lv=xs,fv=ks,dv=Es,pv=_s,mv=Ss,gv=function(t,e,n){this.init(t,e,n)};gv.prototype={bubble:nv,fire:iv,getAction:rv,init:sv,listen:uv,rebind:lv,render:fv,resolve:dv,unbind:pv,unrender:mv};var vv=gv,yv=function(t,e){var n,i,r,s,o=[];for(i in e)if(e.hasOwnProperty(i))for(r=i.split("-"),n=r.length;n--;)s=new vv(t,r[n],e[i]),o.push(s);return o},bv=function(t,e){var n,i,r,s=this;this.element=t,this.root=n=t.root,i=e.n||e,("string"==typeof i||(r=new gw({template:i,root:n,owner:t}),i=r.toString(),r.unbind(),""!==i))&&(e.a?this.params=e.a:e.d&&(this.fragment=new gw({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,s.params=this.getArgsList(),s.ready&&s.update()}),this.fn=v("decorators",n,i),this.fn||l(Ru(i,"decorator")))};bv.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var wv,xv,kv,Ev=bv,_v=js,Sv=Rs,Av=Ms,Cv=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Xa?(xv={},kv=cu("div").style,wv=function(t){var e,n,i;if(t=Cv(t),!xv[t])if(void 0!==kv[t])xv[t]=t;else for(i=t.charAt(0).toUpperCase()+t.substring(1),e=su.length;e--;)if(n=su[e],void 0!==kv[n+i]){xv[t]=n+i;break}return xv[t]}):wv=null;var Tv,Ov,Pv=wv;Xa?(Ov=window.getComputedStyle||ku.getComputedStyle,Tv=function(t){var e,n,i,r,o;if(e=Ov(this.node),"string"==typeof t)return o=e[Pv(t)],"0px"===o&&(o=0),o;if(!s(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},i=t.length;i--;)r=t[i],o=e[Pv(r)],"0px"===o&&(o=0),n[r]=o;return n}):Tv=null;var Fv=Tv,jv=function(t,e){var n;if("string"==typeof t)this.node.style[Pv(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Pv(n)]=t[n]);return this},Rv=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(g(Ru(t.easing,"easing")),e=Us)):e="function"==typeof t.easing?t.easing:Us,this.easing=e,this.start=Yu(),this.end=this.start+this.duration,this.running=!0,gh.add(this)};Rv.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Nv,Dv,Iv,Lv,Vv,Mv,Uv,Wv,zv=Rv,qv=new RegExp("^-(?:"+su.join("|")+")-"),Bv=function(t){return t.replace(qv,"")},$v=new RegExp("^(?:"+su.join("|")+")([A-Z])"),Qv=function(t){var e;return t?($v.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Zv={},Hv={};Xa?(Dv=cu("div").style,function(){void 0!==Dv.transition?(Iv="transition",Lv="transitionend",Vv=!0):void 0!==Dv.webkitTransition?(Iv="webkitTransition",Lv="webkitTransitionEnd",Vv=!0):Vv=!1}(),Iv&&(Mv=Iv+"Duration",Uv=Iv+"Property",Wv=Iv+"TimingFunction"),Nv=function(t,e,n,i,r){setTimeout(function(){var s,o,a,u,h;u=function(){o&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),r())},s=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[Uv]=i.map(Pv).map(Qv).join(","),t.node.style[Wv]=Qv(n.easing||"linear"),t.node.style[Mv]=n.duration/1e3+"s",h=function(e){var n;n=i.indexOf(Cv(Bv(e.propertyName))),-1!==n&&i.splice(n,1),i.length||(t.node.removeEventListener(Lv,h,!1),a=!0,u())},t.node.addEventListener(Lv,h,!1),setTimeout(function(){for(var r,c,l,f,d,p=i.length,g=[];p--;)f=i[p],r=s+f,Vv&&!Hv[r]&&(t.node.style[Pv(f)]=e[f],Zv[r]||(c=t.getStyle(f),Zv[r]=t.getStyle(f)!=e[f],Hv[r]=!Zv[r],Hv[r]&&(t.node.style[Pv(f)]=c))),(!Vv||Hv[r])&&(void 0===c&&(c=t.getStyle(f)),l=i.indexOf(f),-1===l?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):i.splice(l,1),d=/[^\d]*$/.exec(e[f])[0],g.push({name:Pv(f),interpolator:Du(parseFloat(c),parseFloat(e[f])),suffix:d}));g.length?new zv({root:t.root,duration:n.duration,easing:Cv(n.easing||""),step:function(e){var n,i;for(i=g.length;i--;)n=g[i],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){o=!0,u()}}):o=!0,i.length||(t.node.removeEventListener(Lv,h,!1),a=!0,u())},0)},n.delay||0)}):Nv=null;var Kv,Gv,Yv,Jv,Xv,ty=Nv;if("undefined"!=typeof document){if(Kv="hidden",Xv={},Kv in document)Yv="";else for(Jv=su.length;Jv--;)Gv=su[Jv],Kv=Gv+"Hidden",Kv in document&&(Yv=Gv);void 0!==Yv?(document.addEventListener(Yv+"visibilitychange",Ws),Ws()):("onfocusout"in document?(document.addEventListener("focusout",zs),document.addEventListener("focusin",qs)):(window.addEventListener("pagehide",zs),window.addEventListener("blur",zs),window.addEventListener("pageshow",qs),window.addEventListener("focus",qs)),Xv.hidden=!1)}var ey,ny,iy,ry=Xv;Xa?(ny=window.getComputedStyle||ku.getComputedStyle,ey=function(t,e,n){var i,r=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(ry.hidden)return this.setStyle(t,e),iy||(iy=rh.resolve());"string"==typeof t?(i={},i[t]=e):(i=t,n=e),n||(g('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var s=new rh(function(t){var e,s,o,a,u,h,c;if(!n.duration)return r.setStyle(i),void t();for(e=Object.keys(i),s=[],o=ny(r.node),u={},h=e.length;h--;)c=e[h],a=o[Pv(c)],"0px"===a&&(a=0),a!=i[c]&&(s.push(c),r.node.style[Pv(c)]=a);return s.length?void ty(r,i,n,s,t):void t()});return s}):ey=null;var sy=ey,oy=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),r({},t,e)},ay=Bs,uy=function(t,e,n){this.init(t,e,n)};uy.prototype={init:Av,start:ay,getStyle:Fv,setStyle:jv,animateStyle:sy,processParams:oy};var hy,cy,ly=uy,fy=Qs;hy=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},cy=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var dy=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Js).join("")+this.conditionalAttributes.map(Js).join(""),"option"===this.name&&Gs(this)&&(t+=" selected"),"input"===this.name&&Ys(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=Cn(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),yf.test(this.template.e)||(t+="</"+this.template.e+">"),t)},py=Xs,my=to,gy=function(t){this.init(t)};gy.prototype={bubble:qm,detach:Bm,find:$m,findAll:Qm,findAllComponents:Zm,findComponent:Hm,findNextNode:Km,firstNode:Gm,getAttribute:Ym,init:_v,rebind:Sv,render:fy,toString:dy,unbind:py,unrender:my};var vy=gy,yy=/^\s*$/,by=/^\s*/,wy=function(t){var e,n,i,r;return e=t.split("\n"),n=e[0],void 0!==n&&yy.test(n)&&e.shift(),i=D(e),void 0!==i&&yy.test(i)&&e.pop(),r=e.reduce(no,null),r&&(t=e.map(function(t){return t.replace(r,"")}).join("\n")),t},xy=io,ky=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Ey='Could not find template for partial "%s"',_y=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=Jc,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,nm.init(this,t),this.keypath||((n=xy(this.root,this.name,e))?(Rp.call(this),this.isNamed=!0,this.setTemplate(n)):g(Ey,this.name))};_y.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||em.call(this,t,e),this.fragment&&this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:nm.resolve,setValue:function(t){var e;(void 0===t||t!==this.value)&&(void 0!==t&&(e=xy(this.root,""+t,this.parentFragment)),!e&&this.name&&(e=xy(this.root,this.name,this.parentFragment))&&(Rp.call(this),this.isNamed=!0),e||g(Ey,this.name,{ractive:this.root}),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&dh.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new gw({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,i,r;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===$c?(i=n.text.split("\n").pop(),(r=/^\s+$/.exec(i))?ky(e,r[0]):e):e},unbind:function(){this.isNamed||Rp.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var Sy,Ay,Cy,Ty=_y,Oy=uo,Py=ho,Fy=new th("detach"),jy=co,Ry=lo,Ny=fo,Dy=po,Iy=mo,Ly=go,Vy=function(t,e,n,i){var r=t.root,s=t.keypath;i?r.viewmodel.smartUpdate(s,e,i):r.viewmodel.mark(s)},My=[],Uy=["pop","push","reverse","shift","sort","splice","unshift"];Uy.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];var r,s,o,a;for(r=dc(this,t,n),s=Array.prototype[t].apply(this,arguments),dh.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)o=this._ractive.wrappers[a],dh.addRactive(o.root),Vy(o,this,t,r);return dh.end(),this._ractive.setting=!1,s};wu(My,t,{value:e})}),Sy={},Sy.__proto__?(Ay=function(t){t.__proto__=My},Cy=function(t){t.__proto__=Array.prototype}):(Ay=function(t){var e,n;for(e=Uy.length;e--;)n=Uy[e],wu(t,n,{value:My[n],configurable:!0})},Cy=function(t){var e;for(e=Uy.length;e--;)delete t[Uy[e]]}),Ay.unpatch=Cy;var Wy,zy,qy,By=Ay;Wy={filter:function(t){return s(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new zy(t,e,n)}},zy=function(t,e,n){this.root=t,this.value=e,this.keypath=_(n),e._ractive||(wu(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),By(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},zy.prototype={get:function(){return this.value},teardown:function(){var t,e,n,i,r;if(t=this.value,e=t._ractive,n=e.wrappers,i=e.instances,e.setting)return!1;if(r=n.indexOf(this),-1===r)throw new Error(qy);if(n.splice(r,1),n.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(r=i.indexOf(this.root),-1===r)throw new Error(qy);i.splice(r,1)}}else delete t._ractive,By.unpatch(this.value)}},qy="Something went wrong in a rather interesting way";var $y,Qy,Zy=Wy,Hy=/^\s*[0-9]+\s*$/,Ky=function(t){return Hy.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),$y={filter:function(t,e,n){var i,r;return e?(e=_(e),(i=n.viewmodel.wrapped[e.parent.str])&&!i.magic?!1:(r=n.viewmodel.get(e.parent),s(r)&&/^[0-9]+$/.test(e.lastKey)?!1:r&&("object"==typeof r||"function"==typeof r))):!1},wrap:function(t,e,n){return new Qy(t,e,n)}},Qy=function(t,e,n){var i,r,s;return n=_(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,i=n.parent,this.obj=i.isRoot?t.viewmodel.data:t.viewmodel.get(i),r=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),r&&r.set&&(s=r.set._ractiveWrappers)?void(-1===s.indexOf(this)&&s.push(this)):void vo(this,e,r)},Qy.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,dh.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Ky(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,i,r;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(i=e._ractiveWrappers,r=i.indexOf(this),-1!==r&&i.splice(r,1),i.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(t){$y=!1}var Gy,Yy,Jy=$y;Jy&&(Gy={filter:function(t,e,n){return Jy.filter(t,e,n)&&Zy.filter(t)},wrap:function(t,e,n){return new Yy(t,e,n)}},Yy=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=Jy.wrap(t,e,n),this.arrayWrapper=Zy.wrap(t,e,n)},Yy.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var Xy=Gy,tb=yo,eb={},nb=xo,ib=ko,rb=So,sb=Po,ob=Fo,ab=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};ab.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var ub=ab,hb=function(t,e){this.key=t,this.getter=e.getter,this.setter=e.setter,this.hardDeps=e.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};hb.prototype={constructor:hb,init:function(t){var e,n=this;this.viewmodel=t,this.bypass=!0,e=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e),this.hardDeps&&this.hardDeps.forEach(function(e){return t.register(e,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,e,n=this,i=!1;if(this.getting){var r="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(r),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?i=!0:[this.hardDeps,this.softDeps].forEach(function(t){var e,r,s;if(!i)for(s=t.length;s--;)if(e=t[s],r=n.viewmodel.get(e),!a(r,n.depValues[e.str]))return n.depValues[e.str]=r,void(i=!0)}),i){this.viewmodel.capture();try{this.value=this.getter()}catch(t){m('Failed to compute "%s"',this.key.str),f(t.stack||t),this.value=void 0}t=this.viewmodel.release(),e=this.updateDependencies(t),e&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){n.depValues[t.str]=n.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var e,n,i,r,s;for(n=this.softDeps,e=n.length;e--;)i=n[e],-1===t.indexOf(i)&&(r=!0,this.viewmodel.unregister(i,this,"computed"));for(e=t.length;e--;)i=t[e],-1!==n.indexOf(i)||this.hardDeps&&-1!==this.hardDeps.indexOf(i)||(r=!0,jo(this.viewmodel,i)&&!this.unresolvedDeps[i.str]?(s=new ub(this,i.str),t.splice(e,1),this.unresolvedDeps[i.str]=s,dh.addUnresolved(s)):this.viewmodel.register(i,this,"computed"));return r&&(this.softDeps=t.slice()),r}};var cb=hb,lb=Ro,fb={FAILED_LOOKUP:!0},db=No,pb={},mb=Io,gb=Lo,vb=function(t,e){this.localKey=t,this.keypath=e.keypath,this.origin=e.origin,this.deps=[],this.unresolved=[],this.resolved=!1};vb.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,e){return this.resolved?this.origin.get(this.map(t),e):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.resolved||this.forceResolution(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);if(t.origin.register(n,e.dep,e.group),e.dep.setValue)e.dep.setValue(t.origin.get(n));else{if(!e.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");e.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");
this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,e,n){var i,r;if(this.resolved){for(i=this.deps,r=i.length;r--;)if(i[r].dep===e){i.splice(r,1);break}this.origin.unregister(this.map(t),e,n)}}};var yb=Vo,bb=function(t,e){var n,i,r,s;return n={},i=0,r=t.map(function(t,r){var o,a,u;a=i,u=e.length;do{if(o=e.indexOf(t,a),-1===o)return s=!0,-1;a=o+1}while(n[o]&&u>a);return o===i&&(i+=1),o!==r&&(s=!0),n[o]=!0,o})},wb=Mo,xb={},kb=zo,Eb=Bo,_b=$o,Sb=Qo,Ab=Ho,Cb={implicit:!0},Tb={noCascade:!0},Ob=Go,Pb=Yo,Fb=function(t){var e,n,i=t.adapt,r=t.data,s=t.ractive,o=t.computed,a=t.mappings;this.ractive=s,this.adaptors=i,this.onchange=t.onchange,this.cache={},this.cacheMap=bu(null),this.deps={computed:bu(null),default:bu(null)},this.depsMap={computed:bu(null),default:bu(null)},this.patternObservers=[],this.specials=bu(null),this.wrapped=bu(null),this.computations=bu(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=r,this.mappings=bu(null);for(e in a)this.map(_(e),a[e]);if(r)for(e in r)(n=this.mappings[e])&&void 0===n.getValue()&&n.setValue(r[e]);for(e in o)a&&e in a&&l("Cannot map to a computed property ('%s')",e),this.compute(_(e),o[e]);this.ready=!0};Fb.prototype={adapt:tb,applyChanges:rb,capture:sb,clearCache:ob,compute:lb,get:db,init:mb,map:gb,mark:yb,merge:wb,register:kb,release:Eb,reset:_b,set:Sb,smartUpdate:Ab,teardown:Ob,unregister:Pb};var jb=Fb;Xo.prototype={constructor:Xo,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?ta(this.queue,e).push(t):ea(this,t),delete this.inProcess[t._guid]}};var Rb=Xo,Nb=na,Db=/\$\{([^\}]+)\}/g,Ib=new th("construct"),Lb=new th("config"),Vb=new Rb("init"),Mb=0,Ub=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Wb=oa,zb=la;la.prototype={bubble:function(){this.dirty||(this.dirty=!0,dh.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var qb=function(t,e,n,r,o){var a,u,h,c,l,f,d={},p={},g={},v=[];for(u=t.parentFragment,h=t.root,o=o||{},i(d,o),o.content=r||[],d[""]=o.content,e.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",t.name),c=u;c;){if(c.owner.type===rl){l=c.owner.container;break}c=c.parent}return n&&Object.keys(n).forEach(function(e){var i,r,o=n[e];if("string"==typeof o)i=Ed(o),p[e]=i?i.value:o;else if(0===o)p[e]=!0;else{if(!s(o))throw new Error("erm wut");da(o)?(g[e]={origin:t.root.viewmodel,keypath:void 0},r=fa(t,o[0],function(t){t.isSpecial?f?a.set(e,t.value):(p[e]=t.value,delete g[e]):f?a.viewmodel.mappings[e].resolve(t):g[e].keypath=t})):r=new zb(t,o,function(t){f?a.set(e,t):p[e]=t}),v.push(r)}}),a=bu(e.prototype),Wb(a,{el:null,append:!0,data:p,partials:o,magic:h.magic||e.defaults.magic,modifyArrays:h.modifyArrays,adapt:h.adapt},{parent:h,component:t,container:l,mappings:g,inlinePartials:d,cssIds:u.cssIds}),f=!0,t.resolvers=v,a},Bb=pa,$b=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Qb=ga,Zb=va,Hb=ya,Kb=ba,Gb=wa,Yb=new th("teardown"),Jb=ka,Xb=function(t,e){this.init(t,e)};Xb.prototype={detach:Py,find:jy,findAll:Ry,findAllComponents:Ny,findComponent:Dy,findNextNode:Iy,firstNode:Ly,init:Qb,rebind:Zb,render:Hb,toString:Kb,unbind:Gb,unrender:Jb};var tw=Xb,ew=function(t){this.type=Xc,this.value=t.template.c};ew.prototype={detach:Pp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var nw=ew,iw=function(t){var e,n;this.type=rl,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var i=this.name=t.template.n||"",r=e._inlinePartials[i];r||(m('Could not find template for partial "'+i+'"',{ractive:t.root}),r=[]),this.fragment=new gw({owner:this,root:e.parent,template:r,pElement:this.containerFragment.pElement}),s(n.yielders[i])?n.yielders[i].push(this):n.yielders[i]=[this],dh.scheduleTask(function(){if(n.yielders[i].length>1)throw new Error("A component template can only have one {{yield"+(i?" "+i:"")+"}} declaration at a time")})};iw.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),I(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment.toString()}};var rw=iw,sw=function(t){this.declaration=t.template.a};sw.prototype={init:Ou,render:Ou,unrender:Ou,teardown:Ou,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var ow=sw,aw=Ea,uw=Sa,hw=Aa,cw=Ca,lw=Pa,fw=ja,dw=function(t){this.init(t)};dw.prototype={bubble:yp,detach:bp,find:wp,findAll:xp,findAllComponents:kp,findComponent:Ep,findNextNode:_p,firstNode:Sp,getArgsList:Cp,getNode:Tp,getValue:Op,init:aw,rebind:uw,registerIndexRef:function(t){var e=this.registeredIndexRefs;-1===e.indexOf(t)&&e.push(t)},render:hw,toString:cw,unbind:lw,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:fw};var pw,mw,gw=dw,vw=Ra,yw=["template","partials","components","decorators","events"],bw=new th("reset"),ww=function(t,e){function n(e,i,r){r&&r.partials[t]||e.forEach(function(e){e.type===Jc&&e.getPartialName()===t&&i.push(e),e.fragment&&n(e.fragment.items,i,r),s(e.fragments)?n(e.fragments,i,r):s(e.items)?n(e.items,i,r):e.type===il&&e.instance&&n(e.instance.fragment.items,i,e.instance),e.type===Yc&&(s(e.attributes)&&n(e.attributes,i,r),s(e.conditionalAttributes)&&n(e.conditionalAttributes,i,r))})}var i,r=[];return n(this.fragment.items,r),this.partials[t]=e,i=dh.start(this,!0),r.forEach(function(e){e.value=void 0,e.setValue(t)}),dh.end(),i},xw=Na,kw=mc("reverse"),Ew=Da,_w=mc("shift"),Sw=mc("sort"),Aw=mc("splice"),Cw=La,Tw=Va,Ow=new th("teardown"),Pw=Ua,Fw=Wa,jw=za,Rw=new th("unrender"),Nw=mc("unshift"),Dw=qa,Iw=new th("update"),Lw=Ba,Vw={add:Hu,animate:bh,detach:xh,find:Eh,findAll:jh,findAllComponents:Rh,findComponent:Nh,findContainer:Dh,findParent:Ih,fire:Uh,get:Wh,insert:qh,merge:$h,observe:oc,observeOnce:ac,off:cc,on:lc,once:fc,pop:gc,push:vc,render:_c,reset:vw,resetPartial:ww,resetTemplate:xw,reverse:kw,set:Ew,shift:_w,sort:Sw,splice:Aw,subtract:Cw,teardown:Tw,toggle:Pw,toHTML:Fw,toHtml:Fw,unrender:jw,unshift:Nw,update:Dw,updateModel:Lw},Mw=function(t,e,n){return n||Qa(t,e)?function(){var n,i="_super"in this,r=this._super;return this._super=e,n=t.apply(this,arguments),i&&(this._super=r),n}:t},Uw=Za,Ww=Ya,zw=function(t){var e,n,i={};return t&&(e=t._ractive)?(i.ractive=e.root,i.keypath=e.keypath.str,i.index={},(n=zp(e.proxy.parentFragment))&&(i.index=zp.resolve(n)),i):i};pw=function(t){return this instanceof pw?void Wb(this,t):new pw(t)},mw={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Ww},getNodeInfo:{value:zw},parse:{value:Zd},Promise:{value:rh},svg:{value:ru},magic:{value:nu},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:hu},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Lu},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},xu(pw,mw),pw.prototype=i(Vw,uu),pw.prototype.constructor=pw,pw.defaults=pw.prototype;var qw="function";if(typeof Date.now!==qw||typeof String.prototype.trim!==qw||typeof Object.keys!==qw||typeof Array.prototype.indexOf!==qw||typeof Array.prototype.forEach!==qw||typeof Array.prototype.map!==qw||typeof Array.prototype.filter!==qw||"undefined"!=typeof window&&typeof window.addEventListener!==qw)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Bw=pw;return Bw})},{}]},{},[1]);